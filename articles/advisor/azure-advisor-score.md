---
title: 使用顾问评分优化 Azure 工作负荷
description: 使用顾问评分充分利用 Azure
ms.topic: article
ms.date: 09/09/2020
ms.openlocfilehash: 720a2b358e35d776a7233452eee2bd69b521654f
ms.sourcegitcommit: 814778c54b59169c5899199aeaa59158ab67cf44
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/13/2020
ms.locfileid: "90056228"
---
# <a name="optimize-azure-workloads-using-advisor-score"></a>使用顾问评分优化 Azure 工作负荷

## <a name="introduction-to-advisor-score"></a>顾问评分简介

Azure 顾问提供适用于你的工作负荷的最佳实践建议。 这些建议是个性化且可操作的，可帮助你：
* 改进工作负荷的状况并优化 Azure 部署
* 按照最佳做法主动防止顶级问题
* 根据[Microsoft Azure 良好体系](https://docs.microsoft.com/azure/architecture/framework/)结构的五个要素评估 Azure 工作负荷

作为顾问的核心功能， **顾问分数** 旨在帮助你有效有效地实现这些目标。 

若要充分利用 Azure，了解你在工作负载优化旅程中所处的位置，哪些服务/资源使用良好且不是这样。 此外，还需要了解如何根据建议确定操作的优先级，以最大程度地提高结果。 跟踪和报告此优化旅程的进度也很重要。 借助 **顾问评分**，你可以通过新的游戏化体验轻松完成所有这些操作。 作为个性化的云顾问，Azure 顾问会持续评估使用情况遥测和资源配置，以检查行业最佳实践。 然后，顾问将其发现聚合为单个分数，以便您可以一目了然地了解构建可靠、安全且经济高效的解决方案的必要步骤。 顾问分数由总体分数组成，可以进一步细分为五个类别评分，每个类别的 Azure 顾问（表示完美构建的框架的五个支柱）各有一个。 您可以通过查看总体分数和类别分数、每日、每周和每月趋势，来跟踪您的时间，并可以设置基准来帮助您实现目标。 

 ![顾问评分体验](./media/advisor-score-1.png)

## <a name="how-to-consume-advisor-score"></a>如何使用顾问分数
顾问按百分比显示顾问类别的总体顾问分数和细分。 任何类别的分数为100%，表示由 Advisor 评估的所有资源都遵循顾问建议的最佳实践。 在该色谱的另一端，分数为0% 表示由顾问评估的资源均不遵循顾问的建议。 使用这些评分粒度，你可以轻松实现以下 flow：
* **顾问评分** ，可帮助你根据顾问评分来比较工作负荷/订阅的工作方式。 你还可以查看历史趋势，了解你的走向。
* **顾问类别分数** ，可帮助您了解哪些类别需要更多关注，并帮助您确定优先级
* 每个建议的**潜在评分增加**有助于你确定每个类别的修正操作的优先级

在 Azure 门户的 "概述" 页上，可以清楚地显示每个建议对分数的贡献。 您可以通过采用最佳做法来增加评分，还可以设置具有最大 **潜在分数** 的建议的优先级，以使您能够以最快的速度提高进度。  

![顾问分数影响](./media/advisor-score-2.png)

由于 Advisor 的计分方法会将额外权重应用于具有长期建议的更昂贵资源，因此你可以通过先修正最高零售成本的资源来完成最多的工作。 如果任何顾问建议对于单个资源不相关，则可以取消这些建议，以将其从评分计算中排除，并向 Advisor 发送反馈以改进其建议。 

## <a name="how-is-advisor-score-calculated"></a>顾问分数如何计算？
顾问以百分比形式显示你的类别分数和总体顾问分数。 任何类别的分数为100% 表示 *由顾问评估*的所有资源，请遵循顾问建议的最佳实践。 在该色谱的另一端，分数为0% 表示没有由顾问评估的资源，请遵循顾问的建议。 
**这五个类别中的每一个都有最高的潜在分数100。** 总体顾问分数计算为每个适用的类别分数的总和除以所有适用类别的最高潜在分数之和。 对于大多数订阅，这意味着顾问增加了每个类别的分数并除以了500。 但是， **仅当使用由顾问评估的资源时，才计算每个类别分数。**

### <a name="scoring-methodology"></a>评分方法： 
可以通过四个步骤汇总顾问评分的计算：
1. 顾问计算 **受影响资源的每日零售成本**，这些资源是订阅上至少有一项顾问建议的资源。
2. 顾问计算 **评估资源的每日零售成本**，这些资源是由顾问监视的资源，不管是否有任何建议。 
3. 对于每个建议类型，顾问将计算 **正常的资源比率**，这是受影响资源的成本除以评估资源的成本。
4. 顾问将三个额外的权重应用于每个类别中的正常资源比率：
* 具有更大影响的建议比具有较低影响的建议更小。
* 具有长期建议的资源将会更多地统计你的成绩。
* 在 Advisor 中关闭的资源将从你的评分计算中彻底删除。 
    
顾问在顾问类别级别应用此模型 (安全性使用 [安全评分](https://docs.microsoft.com/azure/security-center/secure-score-security-controls#introduction-to-secure-score) 模型) ，为每个类别提供我们的顾问分数，进一步提高平均顾问分数。


## <a name="advisor-score-faq"></a>顾问评分常见问题
* **评分的刷新频率是多少？**
每日至少刷新一次。 
* **是否需要查看 Advisor 中的建议才能获得评分？**
否。 你的评分反映了你是否采用顾问建议的最佳实践，即使你永远不会在 Advisor 中查看这些建议并主动采用最佳实践。  
* **顾问如何计算订阅上资源的每日零售成本？**
顾问使用 Azure.com 定价页上发布的 *即用即付* 费率，它不反映任何适用的折扣，再乘以分配资源的最后一天的使用量。 省略资源成本计算的折扣使顾问分数在不同的订阅、租户和注册之间可比较，折扣可能会有所不同。 
* **如果建议不相关，该怎么办？**
如果从 Advisor 关闭建议，则会从评分的计算中省略该建议。 消除建议还有助于 Advisor 提高建议质量。
* **为什么分数发生了变化？** 如果通过采用顾问建议的最佳实践来更正受影响的资源，则分数可能会改变。 如果你或拥有订阅权限的任何人已经修改或创建了新资源，则你可能还会看到你的分数波动，因为你的分数基于与所有资源的总成本相关的成本影响资源的比率。
* **我的分数是否取决于我在 Azure 上花费了多少？**
否。 评分旨在控制订阅和服务组合的大小。 
* **评分方法是否区分生产和开发测试工作负载？**
不是，但目前不是这样，但如果这些资源用于开发和测试，则可以取消对各个资源的建议，而建议不适用。
* **是否可以比较包含100资源的订阅与包含100000资源的订阅之间的分数？**
评分方法旨在控制订阅和服务组合上的资源数，因此，具有较少资源的订阅的分数比具有更多资源的订阅的分数更高或更低。 

## <a name="how-to-access-advisor"></a>如何访问顾问
Advisor 评分在 Azure 门户的公共预览版中。 你必须转向 Advisor 部分，并在左侧导航栏中找到作为第2个菜单项的顾问分数。 

![顾问评分入口点](./media/advisor-score-3.png)

## <a name="next-steps"></a>后续步骤

有关顾问建议的详细信息，请参阅以下资源：
* [顾问简介](advisor-overview.md)
* [顾问入门](advisor-get-started.md)
* [顾问成本建议](advisor-cost-recommendations.md)
* [顾问性能建议](advisor-performance-recommendations.md)
* [顾问安全性建议](advisor-security-recommendations.md)
* [顾问卓越运营建议](advisor-operational-excellence-recommendations.md)
