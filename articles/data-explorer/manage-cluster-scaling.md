---
title: 根据不断变化的需求缩放 Azure 数据资源管理器群集
description: 本文介绍如何根据不断变化的需求采用相关步骤对 Azure 数据资源管理器群集进行横向缩放。
author: orspod
ms.author: v-orspod
ms.reviewer: mblythe
ms.service: data-explorer
services: data-explorer
ms.topic: conceptual
ms.date: 09/24/2018
ms.openlocfilehash: bd3be916587ab884ea5579234a6189af54b53797
ms.sourcegitcommit: 6e09760197a91be564ad60ffd3d6f48a241e083b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/29/2018
ms.locfileid: "50209201"
---
# <a name="manage-cluster-scaling-to-accommodate-changing-demand"></a>根据不断变化的需求管理群集缩放

调整好群集的大小对于 Azure 数据资源管理器的性能至关重要。 但是，对群集的需求不能 100% 准确地进行预测。 静态群集大小可能导致利用不充分或利用过度，二者都不理想。 更好的方法是对群集进行缩放，根据不断变化的需求来添加或删除容量。 本文介绍如何管理群集缩放。

导航到群集，在“设置”下选择“横向扩展”。在“配置”下选择“启用自动缩放”。

![启用自动缩放](media/manage-cluster-scaling/enable-autoscale.png)

下图显示后续几个步骤的流程。 我们在图下面提供了更多详细信息。

![缩放规则](media/manage-cluster-scaling/scale-rule.png)

1. 在“自动缩放设置名称”下提供一个名称，例如“横向扩展: 缓存使用率”。

1. 在“缩放模式”下选择“基于指标缩放”。 此模式提供动态缩放；也可选择“缩放到特定的实例计数”。

1. 选择“添加规则”。

1. 在右侧的“缩放规则”部分，提供每项设置的值。

    | 设置 | 说明和值 |
    | --- | --- | --- |
    | **时间聚合** | 选择聚合条件，例如“平均”。 |
    | **指标名称** | 选择要求缩放操作依赖的指标，例如“缓存使用率”。 |
    | 时间粒度统计信息 | 在 **Average**、**Minimum**、**Maximum** 和 **Sum** 之间选择。 |
    | 运算符 | 选择适当的选项，例如“大于或等于”。 |
    | **阈值** | 选择适当的值。 例如，对于缓存使用率，一开始可以选择 80%。 |
    | **持续时间** | 选择适当的时间值，以便系统在计算指标时进行回溯。 一开始可将默认值设置为 10 分钟。 |
    | **操作** | 选择进行横向缩放的适当选项。 |
    | **实例计数** | 选择在符合指标条件的情况下，需要添加或删除的节点或实例的数目。 |
    | 冷却（分钟） | 选择需要在两项缩放操作之间等待的适当时间间隔。 一开始可将默认值设置为 5分钟。 |
    |  |  |

1. 选择 **添加** 。

1. 在左侧的“实例限制”部分，提供每项设置的值。

    | 设置 | 说明和值 |
    | --- | --- | --- |
    | *最低* | 这是群集在缩放时不管使用率如何都不得低于的实例数。 |
    | 最大值 | 这是群集在缩放时不管使用率如何都不得高于的实例数。 |
    | *默认* | 默认的实例数，在出现资源指标读取问题时使用。 |
    |  |  |

1. 选择“保存”。

现在已为 Azure 数据资源管理器群集配置了横向扩展操作。 添加另一条适用于横向缩减操作的规则。 这样群集就可以根据指定的使用率指标动态地进行缩放。

如果在解决群集缩放问题时需要帮助，请在 [Azure 门户](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview)中提交支持请求。