---
title: 特征 - LUIS
description: 将特征添加到语言模型，提供有关如何识别需要标记或分类的输入的提示。
ms.topic: conceptual
ms.date: 06/10/2020
ms.openlocfilehash: 823c51f0b58481e30ff54814dde03285ad094b9e
ms.sourcegitcommit: f01c2142af7e90679f4c6b60d03ea16b4abf1b97
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/10/2020
ms.locfileid: "84677585"
---
# <a name="machine-learning-ml-features"></a>机器学习（ML）功能

在机器学习中，一 **项功能**   是您的系统观察和学习的数据的特征或属性。

机器学习功能为 LUIS 提供了有关在何处查找将区分概念的事项的重要提示。 它们是 LUIS 可以使用而不是硬规则的提示。  这些提示与标签结合使用来查找数据。

## <a name="what-is-a-feature"></a>什么是功能

功能是一种区分特征，可将其描述为函数： f （x） = y。 此功能用于知道在示例查询文本中查找的位置，以了解这些特征。 创建你的架构时，你如何了解指示特征的示例查询文本？ 你的答案是创建功能的最佳指导。

## <a name="types-of-features"></a>功能的类型

 LUIS 支持词组列表和模型作为功能：
* 短语列表功能
* 模型（意向或实体）作为功能

应将功能视为架构设计的必需部分。

## <a name="how-you-find-features-in-your-example-utterances"></a>如何在示例中查找功能最谈话

由于 LUIS 是基于语言的应用程序，因此功能将基于文本。 选择指示要区分的特征的文本。 对于 LUIS，基于文本的最小单位是标记。 对于英语，令牌是连续范围，不含空格或标点、字母和数字。 空格不是标记。

由于空格和标点不是标记，因此请专注于可用作功能的文本线索。 请记住包括 word 的变体，例如：
* 复数形式
* 谓词时态
* abbreviation
* 拼写和拼写错误

文本作为一种区分特征，必须：
* 匹配精确的词或短语-考虑将正则表达式实体或列表实体作为功能添加到实体或意向
* 匹配众所周知的概念（如日期、时间或人员名称）-使用预构建的实体作为实体或意向的功能
* 了解一段时间的新示例-使用部分概念示例的短语列表作为实体或意向的功能

## <a name="combine-features"></a>组合功能

由于在如何描述特征中有几个选项，您可以使用多个功能来帮助描述该特征或概念。 常见的配对是使用短语列表功能和通常用作功能的实体类型之一：预生成实体、正则表达式实体或列表实体。

### <a name="ticket-booking-entity-example"></a>票证预订实体示例

作为第一个示例，请考虑使用航班预订意向和票据预订实体来预订航班的应用。

票据预订实体是航班目标的计算机学习实体。 若要帮助提取位置，请使用以下两个功能来帮助：
* 短语列表 `plane` ，如、、 `flight` `reservation` 、`ticket`
* 已预先生成实体 `geographyV2` 作为功能到实体

### <a name="pizza-entity-example"></a>比萨饼实体示例

作为另一个示例，请考虑使用 "创建比萨饼订单意向" 和 "比萨饼" 实体来订购比萨饼的应用。

比萨饼实体是用于比萨饼详细信息的计算机学习实体。 若要帮助提取详细信息，请使用两个功能来帮助：
* 短语列表 `cheese` ，如、、 `crust` `pepperoni` 、`pineapple`
* 已预先生成实体 `number` 作为功能到实体

## <a name="a-phrase-list-for-a-particular-concept"></a>特定概念的短语列表

短语列表是封装特定概念的单词或短语的列表，在令牌级别应用为不区分大小写的匹配项。

添加短语列表时，可以将此功能设置为：
* **[全局](#global-features)**。 全局功能适用于整个应用。

### <a name="when-to-use-a-phrase-list"></a>何时使用短语列表

当您需要 LUIS 应用程序能够通用化并识别概念的新项时，请使用短语列表。 短语列表就像特定域的词汇表，有助于提高意向和实体的理解质量。

### <a name="how-to-use-a-phrase-list"></a>如何使用短语列表

使用短语列表，LUIS 将上下文和通用化视为类似于的项，而不是精确的文本匹配项。

使用短语列表的步骤：
* 开始使用机器学习实体
    * 添加示例话语
    * 使用机器学习实体进行标记
* 添加短语列表
    * 添加具有相似含义的单词-**不要添加每**个可能的单词或短语。 相反，请一次添加几个字词或短语，然后重新训练并发布。
    * 查看并添加建议的字词

### <a name="a-typical-scenario-for-a-phrase-list"></a>短语列表的典型方案

短语列表的典型方案是增加与特定想法相关的单词。

例如，可能需要词组列表才能提升其重要性的单词示例。 术语可以具有特定的物理、化学、therapeutic 或抽象含义。 LUIS 不知道这些条款对你的 subject 域没有短语列表很重要。

如果要提取医学术语：
* 首先创建示例最谈话，并在这些最谈话中标记医学术语。
* 然后创建一个短语列表，其中包含使用者域中的条款的示例。 此短语列表应包含标记的实际字词以及描述相同概念的其他术语。
* 向实体或子实体添加短语列表，用于提取短语列表中使用的概念。 最常见的方案是机器学习实体的组件（子级）。 如果短语列表应应用于所有方法或实体，请将短语列表标记为 "全局短语列表"。 该 `enabledForAllModels` 标志控制 API 中的此模型作用域。

### <a name="token-matches-for-a-phrase-list"></a>短语列表的标记匹配

短语列表在标记级别适用，而不考虑大小写。 下图显示了包含单词的短语列表如何 `Ann` 应用于按顺序对相同字符的变体。


| 的令牌变体`Ann` | 找到令牌时短语列表匹配 |
|--------------------------|---------------------------------------|
| ANN<br>aNN<br>           | 是-标记为`Ann`                  |
| 王小姐                    | 是-标记为`Ann`                  |
| Anne                     | 无-标记`Anne`                  |


<a name="how-to-use-phrase-lists"></a>
<a name="how-to-use-a-phrase-lists"></a>
<a name="phrase-lists-help-identify-simple-exchangeable-entities"></a>

## <a name="a-model-as-a-feature-helps-another-model"></a>作为功能的模型可帮助另一模型

您可以将模型（意向或实体）作为功能添加到另一个模型（意向或实体）。 通过将现有意向或实体添加为特征，你添加了一个带有标记示例的定义完善的概念。

添加模型作为功能时，可以将该功能设置为：
* **[必需](#required-features)**。 若要从预测终结点返回模型，必须找到必需的功能。
* **[全局](#global-features)**。 全局功能适用于整个应用。

### <a name="when-to-use-an-entity-as-a-feature-to-an-intent"></a>何时使用实体作为意向的功能

当该实体的检测对于意向非常重要时，将实体作为功能添加到意向。

例如，如果目的是预订航班， `BookFlight` 并且实体是票据信息（例如座位数量、来源和目标），则查找 "票证信息" 实体应为意向预测添加巨大的权重 `BookFlight` 。

### <a name="when-to-use-an-entity-as-a-feature-to-another-entity"></a>何时使用实体作为另一个实体的功能

当实体（A）的检测对于实体（B）的预测很重要时，应将实体（A）作为功能添加到另一个实体（B）。

例如，如果 n "发货地址" 实体包含街道地址子实体，则查找街道地址子实体会向 "发货地址" 实体的预测添加很多权重。

* 寄送地址（机器学习的实体）
    * 街道编号（子实体）
    * 街道地址（子实体）
    * City （子实体）
    * 省/直辖市/自治区（子实体）
    * 国家/地区（子实体）
    * 邮政编码（子实体）

## <a name="nested-subentities-with-features"></a>带功能的嵌套子实体

已学习子实体的计算机指示存在对父实体的概念，无论该父实体是另一个子实体还是顶级实体。 子实体的值充当其父项的功能。

子实体可以将短语列表作为功能以及模型（另一实体）作为功能。

当子实体包含短语列表时，这将提高概念的词汇，但不会将任何信息添加到预测的 JSON 响应。

当子实体具有另一实体的功能时，JSON 响应将包含该其他实体的提取数据。

## <a name="required-features"></a>所需功能

若要从预测终结点返回模型，必须找到必需的功能。 如果你知道传入数据必须与功能匹配，请使用所需功能。

如果查询文本文本不匹配所需的功能，则不会提取该文本。

**必需的功能使用了非计算机学习的实体**：
* 正则表达式实体
* 列表实体
* 预生成实体

什么是要标记为必需的功能？ 如果确信您的模型会在数据中找到，请根据需要设置该功能。 如果找不到，则必需的功能不会返回任何内容。

继续执行发货地址的示例：
* 寄送地址（机器学习的实体）
    * 街道编号（子实体）
    * 街道地址（子实体）
    * 街道名称（子实体）
    * City （子实体）
    * 省/直辖市/自治区（子实体）
    * 国家/地区（子实体）
    * 邮政编码（子实体）

### <a name="required-feature-using-prebuilt-entities"></a>使用预先构建的实体所需的功能

城市、省/市/自治区和国家/地区通常是一组封闭列表，这意味着它们不会随着时间的推移而变化。 这些实体可能具有相关的推荐功能，可以将这些功能标记为必需。 这意味着，不会返回整个发货地址，因为找不到具有所需功能的实体。

如果城市、省/市/自治区或国家/地区位于查询文本，但在 LUIS 不需要的位置或俚语中，该怎么办？ 如果要提供一些 post 处理来帮助解析实体，因为 LUIS 中的置信度较低，请不要将该功能标记为 "必需"。

寄送地址的所需功能的另一个示例是，使街道号成为必需的[预](luis-reference-prebuilt-entities.md)生成编号。 这允许用户输入 "1 Microsoft 方式" 或 "一种 Microsoft 方式"。 对于街道号子实体，两者都将解析为 "1"。

### <a name="required-feature-using-list-entities"></a>使用列表实体所需的功能

[列表实体](reference-entity-list.md)用作规范名称及其同义词的列表。 作为必需功能，如果查询文本不包括规范名称或同义词，则不会作为预测终结点的一部分返回该实体。

继续使用发货地址示例，假设你的公司仅交付到一组有限的国家/地区。 你可以创建一个包含你的客户可能引用该国家/地区的多种方式的列表实体。 如果 LUIS 在查询文本的文本中找不到完全匹配项，则不会在预测中返回实体（具有列表实体所需的功能）。

|规范名称|同义词|
|--|--|
|United States|美国<br>手杖. A<br>美国<br>USA<br>0|

客户端应用程序（如聊天机器人）可以提出问题，因此客户知道国家/地区选择已受到限制并且是_必需_的。

### <a name="required-feature-using-regular-expression-entities"></a>使用正则表达式实体的所需功能

用作必需功能的[正则表达式实体](reference-entity-regular-expression.md)提供丰富的文本匹配功能。

继续使用送货地址，您可以创建一个正则表达式来捕获国家/地区邮政编码的语法规则。

## <a name="global-features"></a>全局功能

尽管最常见的用途是将功能应用到特定模型，但你可以将此功能配置为**全局功能**，以将其应用到整个应用程序。

全局功能最常见的用途是向应用添加其他词汇，如另一种语言的词。 如果客户使用的是主要语言，但希望能够在同一查询文本中使用其他语言，则可以添加一项功能，其中包括辅助语言的单词。

由于用户希望在任何意向或实体中使用第二种语言，因此应将其添加到短语列表，并将短语列表配置为全局功能。

## <a name="best-practices"></a>最佳做法
了解[最佳实践](luis-concept-best-practices.md)。

## <a name="next-steps"></a>后续步骤

* 在预测运行时[扩展](schema-change-prediction-runtime.md)应用模型
* 请参阅[添加功能](luis-how-to-add-features.md)，了解有关如何将特征添加到 LUIS 应用的详细信息。
