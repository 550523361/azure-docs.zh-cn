---
title: 绘图工具在地图上的交互类型和键盘快捷键 |微软 Azure 地图
description: 如何使用 Microsoft Azure 地图 Web SDK 中的鼠标、触摸屏或键盘绘制和编辑形状
author: rbrundritt
ms.author: richbrun
ms.date: 12/05/2019
ms.topic: conceptual
ms.service: azure-maps
services: azure-maps
manager: cpendle
ms.openlocfilehash: fb8a1e1a8c29086553500bdad2e4604d1e1ef471
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/27/2020
ms.locfileid: "77198286"
---
# <a name="interaction-types-and-keyboard-shortcuts-in-the-drawing-tools-module"></a>绘图工具模块中的交互类型和键盘快捷键

本文概述了使用鼠标、触摸屏或键盘快捷键绘制和编辑形状的所有不同方法。

绘图管理器支持与地图交互的三种不同方式，以绘制形状。

* `click`- 单击鼠标或触摸时添加坐标。
* `freehand `- 在地图上拖动鼠标或触摸时添加坐标。
* `hybrid`- 单击或拖动鼠标或触摸时添加坐标。

## <a name="how-to-draw-shapes"></a>如何绘制形状

 在绘制任何形状之前，将`drawingMode`绘图管理器的选项设置为受支持的绘图设置。 此设置可以通过按下工具栏上的一个绘图按钮进行编程或调用。 即使绘制了形状，绘图模式也会保持启用状态，从而轻松绘制相同类型的其他形状。 以编程方式将绘图模式设置为空闲状态。 或者，通过单击工具栏上的当前绘图模式按钮切换到空闲状态。

接下来的部分概述了在地图上绘制形状的所有不同方式。

### <a name="how-to-draw-a-point"></a>如何绘制点

当绘图管理器处于`draw-point`绘图模式时，可以执行以下操作来绘制地图上的点。 这些方法适用于所有交互模式。

**开始绘图**
 - 单击鼠标左键，或触摸地图以向地图添加点。 
 - 如果鼠标位于地图上，请按`F`该键，并在鼠标指针的坐标处添加一个点。 此方法为向地图添加点提供了更高的精度。 由于鼠标左键的按下运动，鼠标上的移动将更少。
 - 继续单击、触摸或按`F`以向地图添加更多点。
 
**完成绘图**
 - 单击绘图工具栏中的任何按钮。 
 - 以编程方式设置绘图模式。 
 - 按键`C`。

**取消绘图**
 - 按键`Escape`。

### <a name="how-to-draw-a-line"></a>如何绘制线条

当绘图管理器处于模式时`draw-line`，可以执行以下操作来绘制地图上的点，具体取决于交互模式。

**开始绘图**
 - 单击模式
   * 单击鼠标左键，或触摸地图以在地图上添加线条的每个点。 每次单击或触摸都会将坐标添加到行中。 
   * 如果鼠标位于地图上，请按`F`该键，并在鼠标指针的坐标处添加一个点。 此方法为向地图添加点提供了更高的精度。 由于鼠标左键的按下运动，鼠标上的移动将更少。
   * 继续单击，直到将所有所需点添加到行中。
 - 手绘模式
   * 按下鼠标左键，或向下触摸地图，然后拖动鼠标或触摸点。 当鼠标或触摸点在地图周围移动时，坐标将添加到行中。 一旦触发鼠标或修饰事件，绘图即告完成。 添加坐标的频率由图形管理器`freehandInterval`选项定义。
 - 混合模式
   * 根据需要在单击和手绘方法之间交替绘制一条线。 例如，单击几个点，然后按住并拖动鼠标以添加一组点，然后单击更多点。 

**完成绘图**
 - 混合/单击模式
   * 在最后一个点双击地图。 
   * 单击绘图工具栏中的任何按钮。 
   * 以编程方式设置绘图模式。 
 - 手绘模式
   * 松开鼠标按钮或触摸点。
 - 按键`C`。

**取消绘图**
 - 按键`Escape`。

### <a name="how-to-draw-a-polygon"></a>如何绘制多边形

当绘图管理器处于模式时`draw-polygon`，可以执行以下操作来绘制地图上的点，具体取决于交互模式。

**开始绘图**
 - 单击模式
   * 单击鼠标左键，或触摸贴图以在地图上添加多边形的每个点。 每次单击或触摸都会将坐标添加到多边形中。 
   * 如果鼠标位于地图上，请按`F`该键，并在鼠标指针的坐标处添加一个点。 此方法为向地图添加点提供了更高的精度。 由于鼠标左键的按下运动，鼠标上的移动将更少。
   * 继续单击，直到将所有所需点添加到多边形。
 - 手绘模式
   * 按下鼠标左键，或向下触摸地图，然后拖动鼠标或触摸点。 当鼠标或触摸点围绕地图移动时，坐标将添加到多边形中。 一旦触发鼠标或修饰事件，绘图即告完成。 添加坐标的频率由图形管理器`freehandInterval`选项定义。
 - 混合模式
   * 根据需要在单击和手绘方法之间交替，同时绘制单个多边形。 例如，单击几个点，然后按住并拖动鼠标以添加一组点，然后单击更多点。 

**完成绘图**
 - 混合/单击模式
   * 在最后一个点双击地图。 
   * 单击多边形中的第一个点。
   * 单击绘图工具栏中的任何按钮。 
   * 以编程方式设置绘图模式。 
 - 手绘模式
   * 松开鼠标按钮或触摸点。
 - 按键`C`。

**取消绘图**
 - 按键`Escape`。

### <a name="how-to-draw-a-rectangle"></a>如何绘制矩形

当绘图管理器处于模式时`draw-rectangle`，可以执行以下操作来绘制地图上的点，具体取决于交互模式。 生成的形状将遵循矩形的[扩展 GeoJSON 规范](extend-geojson.md#rectangle)。

**开始绘图**
 - 按下鼠标左键，或向下触摸地图以添加矩形的第一个角落并拖动以创建矩形。 

**完成绘图**
 - 松开鼠标按钮或触摸点。
 - 以编程方式设置绘图模式。 
 - 按键`C`。

**取消绘图**
 - 按键`Escape`。

### <a name="how-to-draw-a-circle"></a>如何绘制圆

当绘图管理器处于模式时`draw-circle`，可以执行以下操作来绘制地图上的点，具体取决于交互模式。 生成的形状将遵循圆的[扩展 GeoJSON 规范](extend-geojson.md#circle)。

**开始绘图**
 - 按下鼠标左键，或向下触摸地图以添加圆的中心并拖动，使圆圈具有半径。 

**完成绘图**
 - 松开鼠标按钮或触摸点。
 - 以编程方式设置绘图模式。 
 - 按键`C`。

**取消绘图**
 - 按键`Escape`。

## <a name="keyboard-shortcuts"></a>键盘快捷方式

绘图工具支持键盘快捷键。 当地图聚焦时，这些键盘快捷键可以正常工作。

| 键      | 操作                            |
|----------|-----------------------------------|
| `C` | 完成正在进行的任何绘图，并将绘图模式设置为空闲。 焦点将移动到顶级地图元素。  |
| `Escape` | 取消正在进行的任何绘图，并将绘图模式设置为空闲。 焦点将移动到顶级地图元素。  |
| `F` | 如果鼠标位于地图上，则向点、线或面添加坐标。 在单击或混合模式下单击地图的等效操作。 此快捷方式允许更精确、更快速的绘图。 您可以使用一只手定位鼠标，另一只手按按钮，而无需从按手势中移动鼠标。 |

## <a name="next-steps"></a>后续步骤

了解有关绘图工具模块中的类的更多信息：

> [!div class="nextstepaction"]
> [绘图管理器](https://docs.microsoft.com/javascript/api/azure-maps-drawing-tools/atlas.drawing.drawingmanager?view=azure-node-latest)

> [!div class="nextstepaction"]
> [绘图工具栏](https://docs.microsoft.com/javascript/api/azure-maps-drawing-tools/atlas.control.drawingtoolbar?view=azure-node-latest)
