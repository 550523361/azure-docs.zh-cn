---
title: 在 Azure IoT Central 应用程序中创建并运行作业 | Microsoft Docs
description: Azure IoT Central 作业允许批量设备管理功能，例如更新设备属性、设置或执行命令。
ms.service: iot-central
services: iot-central
author: sarahhubbard
ms.author: sahubbar
ms.date: 03/18/2019
ms.topic: conceptual
manager: peterpr
ms.openlocfilehash: ec7033719316bb186408ea78f6dabac43c383491
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "60519259"
---
# <a name="create-and-run-a-job-in-your-azure-iot-central-application"></a>在 Azure IoT Central 应用程序中创建并运行作业

可以使用 Microsoft Azure IoT Central 通过作业大规模地管理连接的设备。 作业可以用来执行批量更新设备属性、 设置和命令。 本文逐步讲解如何开始在自己的应用程序中使用的作业。

## <a name="create-and-run-a-job"></a>创建并运行作业

此部分介绍如何创建并运行作业。 它显示了如何提高多个 refrigerated 自动贩卖机风扇速度。

1. 从导航窗格中，导航到“作业”。

1. 选择 **+ 新建**若要创建新的作业。

    ![新建作业](./media/howto-run-a-job/createnewjob.png)

1. 输入名称和描述以确定你要创建的作业。

1. 选择所需的作业以应用到的设备集。 选择设备设置后，您将看到右侧填充设备组中的设备。 如果选择中断的设备集，没有设备显示，您看到设备集已损坏的消息。

1. 接下来，选择要定义 （设置、 属性或命令） 的作业类型。 选择**+** 旁边的作业类型选择并添加您的操作。

    ![配置作业](./media/howto-run-a-job/configurejob.png)

1. 在右侧，选择你想要在运行作业的设备。 通过选择顶部的复选框，在整个设备集中选择所有设备。 通过选中复选框附近**名称**，选择当前页上的所有设备。

1. 选择后你的设备，选择**运行**或**保存**。 现在，该作业出现上主**作业**页。 在此视图中，您可以看到当前正在运行的作业和历史任何的记录以前运行的作业。 正在运行的作业始终会显示，在列表顶部。 可以随时再次以继续编辑或运行打开保存的作业。

    ![查看作业](./media/howto-run-a-job/viewjob.png)

    > [!NOTE]
    > 可以查看最多 30 天以前运行作业的历史记录。

1. 若要获取作业的概述，请选择要从列表中查看的作业。 本概述包含作业详细信息、 设备和设备状态的值。 在此概述中，还可以选择**下载作业详细信息**若要下载你的作业详细信息，包括设备和及其状态值的.csv 文件。 此信息也可用于故障排除。

    ![查看设备状态](./media/howto-run-a-job/downloaddetails.png)

### <a name="stop-a-running-job"></a>停止正在运行的作业

若要停止正在运行的作业，请选择它，然后选择**停止**面板上。 作业状态将更改以反映该作业已停止。

   ![停止作业](./media/howto-run-a-job/stopjob.png)

### <a name="run-a-stopped-job"></a>运行已停止的作业

若要运行的作业，当前已停止，请选择已停止的作业。 选择**运行**面板上。 现在再次运行作业状态将更改以反映该作业。

   ![已恢复的作业](./media/howto-run-a-job/resumejob.png)

## <a name="copy-a-job"></a>复制作业

若要复制，已创建的现有作业，请从主作业页中选择它，然后选择**复制**。 您要编辑打开作业配置的新副本。 您可以保存或运行新的作业。 如果所选的设备组所做任何更改，它们被反映在您要编辑此复制作业。

   ![复制作业](./media/howto-run-a-job/copyjob.png)

## <a name="view-the-job-status"></a>查看作业状态

创建一个作业后，**状态**列更新与该作业的最新状态消息。 下表列出了可能的状态值：

| 状态消息       | 状态的含义                                          |
| -------------------- | ------------------------------------------------------- |
| 已完成            | 此作业已在所有设备上执行。              |
| 已失败               | 此作业失败且未在设备上完全执行。  |
| 待定              | 此作业尚未尚未开始在设备上执行。         |
| 正在运行              | 此作业当前正在设备上执行。             |
| 已停止              | 此作业已由用户手动停止。           |

状态消息后跟在作业中的设备的概述。 下表列出了可能的设备状态值：

| 状态消息       | 状态的含义                                                     |
| -------------------- | ------------------------------------------------------------------ |
| 已成功            | 在成功执行作业的设备数。       |
| 已失败               | 作业失败上执行的设备数。       |

### <a name="view-the-device-status"></a>查看设备状态

若要查看作业和所有受影响的设备的状态，请选择该作业。 若要下载的.csv 文件，包括作业详细信息，包括设备和及其状态值的列表选择**下载作业详细信息**。 每个设备名称旁边看到的以下状态消息之一：

| 状态消息       | 状态的含义                                                                |
| -------------------- | ----------------------------------------------------------------------------- |
| 已完成            | 作业已在此设备上执行。                                     |
| 已失败               | 作业在此设备上执行失败。 错误消息显示了详细信息。  |
| 待定              | 在此设备上未尚未执行作业。                                   |

> [!NOTE]
> 如果设备已被删除，不能选择该设备，它将显示为已删除与设备 id。

## <a name="next-steps"></a>后续步骤

现在，已了解如何在 Azure IoT Central 应用程序中创建作业，以下是一些后续步骤：

- [使用设备集](howto-use-device-sets.md)
- [管理设备](howto-manage-devices.md)
- [对设备模板进行版本控制](howto-version-devicetemplate.md)
