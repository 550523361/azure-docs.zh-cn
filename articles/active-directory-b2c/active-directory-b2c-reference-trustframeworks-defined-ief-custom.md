---
title: "Azure Active Directory B2C：参考 - 信任框架 | Microsoft Docs"
description: "有关 Azure Active Directory B2C 自定义策略的主题"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.translationtype: Human Translation
ms.sourcegitcommit: 2db2ba16c06f49fd851581a1088df21f5a87a911
ms.openlocfilehash: 019dd66d5abe4242ffb6cdc3276929dcd7f04466
ms.contentlocale: zh-cn
ms.lasthandoff: 05/09/2017


---

# <a name="defining-trust-frameworks-with-azure-ad-b2c-identity-experience-framework"></a>使用 Azure AD B2C 标识体验框架定义信任框架

利用标识体验框架的 Azure AD B2C 自定义策略为组织提供一个集中式服务用于将相关大型社区中的标识联合复杂性化简为一种信任关系和一种元数据交换形式。

这就需要借助利用标识体验框架的 Azure AD B2C 自定义策略来解答以下问题。

- *必须遵守哪些法律、安全、隐私和数据保护策略？*
- *谁是联系人，成为认可参与者的过程是什么？*
- *谁是认可的标识信息提供者（也称为声明提供程序），他们发挥哪些作用？*
- *谁是认可的信赖方 [（可选）他们需要什么]？*
- *参与者的“在线”技术互操作性要求是什么？*
- *必须实施哪些“运行时”操作规则来交换数字标识信息？*

为了解答这些问题，利用标识体验框架的 Azure AD B2C 自定义策略使用了信任框架 (TF) 构造。 让我们分析此构造及其在此方面提供的作用。

## <a name="understanding-the-trust-framework-and-federation-management-foundation"></a>了解信任框架和联合管理的基础

应将此类构造理解为相关社区中参与者必须遵守的标识、安全、隐私和数据保护策略的书面规范。

联合标识为实现 Internet 级最终用户标识保证提供了基础。  通过将标识管理委派给第三方，可对多个信赖方重复使用某个最终用户的单一数字标识。  

标识保证确实要求标识提供者 (Idp) 和属性提供者 (AtP) 遵守特定的安全、隐私和操作策略与做法。  如果无法执行直接检查，信赖方 (RP) 必须与它们合作的 Idp 和 AtP 发展信任关系。  由于数字标识信息的使用者和提供者数目会急剧增大，继续以成对的方式管理这些信任关系，甚至以成对的方式交换网络连接所需的技术元数据，将变得不可行。  联合中心在解决这些问题上只是获得了有限的成功。

TF 是开放标识交换 (OIX) 信任框架模型的关键。在这种模型中，每个相关社区受特定 TF 规范的监管。 此类 TF 规范定义：

- 相关社区的安全和隐私指标，其定义包括：
    - 参与者提供/所需的保证级别 (LOA)，即，数字标识信息真实性的一组有序置信度评级。
    - 参与者提供/所需的保护级别 (LOP)，即，相关社区中参与者处理的数字标识信息受保护程度的一组有序置信度评级。
- 参与者提供/所需的数字标识信息的说明。
- 有关生成和使用数字标识信息的技术策略，因而这些策略也与度量 LOA 和 LOP 有关。 这些书面策略通常包括以下策略类别：
    - 标识证明策略：*个人标识信息的审查强度如何？*
    - 安全策略：*信息完整性和保密性的保护强度如何？*
    - 隐私策略：*用户对个人身份信息 (PII) 拥有哪些控制权？*
    - 留存性策略：当提供者停止操作时 PII 的持续性和受保护性。
- 有关生成和使用数字标识信息的技术配置文件。 这些配置文件：
    - 为根据指定 LOA 提供数字标识信息界定了接口范围。
    - 描述在线互操作性的技术要求。
- 描述社区中的参与者可以履行的各种角色，以及履行这些角色所需的资格。

因此，TF 规范控制了在相关社区的以下参与者之间交换标识信息的方式：信赖方、标识提供者、属性提供者和属性验证程序。

在此 OIX TF 模型的语境中，TF 规范构建为一个或多个参考文档，让相关社区调控该社区中数字标识信息的断言和使用。 这表示一组书面的策略和过程，目的是在相关社区的成员之间的、用于联机事务的数字标识中建立信任。  **TF 规范定义有关为某个社区创建可行联合标识生态系统的规则。**

到目前为止，行业已针对此类做法带来的优势建立了广泛的共识，毫无疑问，信任框架规范有助于营造具有可验证安全性、保证和隐私特征的数字标识生态系统，因此可跨多个相关社区重复使用。

出于此原因，利用标识体验框架的 Azure AD B2C 自定义策略主要使用规范作为呈现数据的基础，让 TF 简化互操作性。  

利用标识体验框架的 Azure AD B2C 自定义策略混合使用人机可读数据来表示 TF 规范：此模型的某些部分（通常是与监管相加相关的部分）表示为已发布的安全和隐私策略文档以及相关过程（如果有）的参考，而其他部分详细描述用于简化操作自动化的配置元数据和运行时规则。

## <a name="understanding-trust-framework-policies"></a>了解信任框架策略

在实现方面，上述 TF 规范包含在利用标识体验框架的 Azure AD B2C 自定义策略的、用于完全控制标识行为和体验的一组策略中。  利用标识体验框架的 Azure AD B2C 自定义策略确实可以让你通过此类可定义和配置的声明性策略编写和创建自己的 TF：

- 定义 TF 相关社区的联合标识生态系统的文档参考。 这些参考是 TF 文档的链接。 （预定义的）“运行时”操作规则，或者用于自动化和/或控制声明交换与使用的用户旅程。 这些用户旅程与 LOA（和 LOP）关联。 因此，策略可以包含具有不同 LOA（和 LOP）的用户旅程。
- 相关社区中的标识提供者和属性提供者或声明提供程序、它们支持的技术配置文件，以及相关的（带外）LOA/LOP 认证。
- 与属性验证程序或声明提供程序的集成。
- 社区中的信赖方（根据推断）。
- 用于在参与者之间建立网络通信的元数据。 在信赖方与其他社区参与者之间执行“在线”互操作性协调的事务过程中，将配合技术配置文件使用这些元数据。
- 任何协议转换（SAML、OAuth2、WS-Federation 和 OpenID Connect）。
- 身份验证要求。
- 多重协调（如果有）。
- 所有可用声明的共享架构，以及与相关社区的参与者的映射。
- 用于维持声明交换和使用的所有声明转换以及此上下文中的可能数据最小化。
- 绑定和加密。
- 声明存储

> [!NOTE]
> 我们将所有可能类型的、可交换的标识信息统称为声明：有关最终用户身份验证凭据、标识审查、通信设备、物理位置、个人身份属性等的声明。  
>
> 我们之所以使用术语*声明*而不是属性（子集），是因为在联机事务中，这些属性不是可由信赖方直接验证的事实，而是断言，或者是有关信赖方必须为其发展足够的置信度，以便向最终用户授予所请求事务的事实的声明。  
>
> 另一个原因在于，利用标识体验框架的 Azure AD B2C 自定义策略旨在以一致的方式简化所有类型的数字标识信息的交换，而不考虑是否为用户身份验证或属性检索定义了基础协议。  同样，如果我们不想要区分标识提供者、属性提供者和属性验证程序的具体功能，我们会使用术语“声明提供程序”来统称这些参与者。   

因此，声明提供程序控制了信赖方、标识提供者、属性提供者和属性验证程序之间的标识信息交换方式。 它们控制了需要使用哪些标识提供者和属性提供者来完成信赖方的身份验证。 应该将它们视为域特定的语言 (DSL)，即，包含继承、*if* 语句和多态性的特定应用程序域专用的计算机语言。

这些策略构成了利用标识体验框架的 Azure AD B2C 自定义策略中包含所有操作详细信息的 TF 构造的机器可读部分，包括声明提供程序的元数据和技术配置文件声明架构定义、声明转换函数，以及为了简化操作协调和自动化而填充的用户旅程。  

它们被视为利用标识体验框架的 Azure AD B2C 自定义策略中的*动态文档*，因为还有一种可能会导致其内容在不同时间会根据策略中声明的活动参与者发生更改，另外，有时还可能会根据参与者的条款和条件而发生更改。  
当不同的声明提供程序/验证程序加入或离开策略集（社区代表方）时，将信赖方与不断进行的信任和连接重新配置相区分可以大大简化联合的设置和维护。

在必须集成更多的声明提供程序/验证程序时，互操作性是另一个严重的挑战，因为信赖方不太可能支持全部所需的协议。 利用标识体验框架的 Azure AD B2C 自定义策略支持行业标准协议，并可在信赖方和属性提供者不支持相同的协议时应用特定的用户旅程来转置请求，因此解决了此问题。  

用户旅程包含用于在信赖方与其他参与者之间协调“在线”互操作性的协议配置文件和元数据。  还会向标识信息交换请求/响应消息应用操作运行时规则，强制与 TF 规范中发布的策略相符。 用户旅程的思路是自定义客户体验以及阐明系统在协议级别的工作方式的关键。

在此基础上，信赖方应用程序和门户可以根据其上下文，通过传递特定策略的名称来调用利用标识体验框架的 Azure AD B2C 自定义策略，并准确获取所需的行为和信息交换，而不会出现任何混乱或风险。

