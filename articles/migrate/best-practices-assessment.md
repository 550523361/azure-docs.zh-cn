---
title: Azure 迁移服务器评估中的评估最佳实践
description: 使用 Azure 迁移服务器评估创建评估的提示。
author: rayne-wiselman
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 11/19/2019
ms.author: raynew
ms.openlocfilehash: de6953b6648613595bc9975b17941b3a453a6d60
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/27/2020
ms.locfileid: "74185987"
---
# <a name="best-practices-for-creating-assessments"></a>创建评估的最佳做法

[Azure Migrate](migrate-overview.md) 在一个中心位置提供多种工具，帮助你发现、评估应用、基础结构和工作负荷并将其迁移到 Microsoft Azure。 该中心包含 Azure Migrate 工具，以及第三方独立软件供应商 (ISV) 的产品/服务。

本文总结了使用 Azure 迁移服务器评估工具创建评估时的最佳做法。

## <a name="about-assessments"></a>关于评估

使用 Azure 迁移服务器评估创建的评估是数据的时间点快照。 Azure 迁移中有两种类型的评估。

**评估类型** | **详细信息** | **数据**
--- | --- | ---
**基于性能** | 根据收集的绩效数据提出建议的评估 | VM 大小建议基于 CPU 和内存利用率数据。<br/><br/> 磁盘类型建议（标准 HDD/SSD 或高级管理磁盘）基于 IOPS 和本地磁盘的吞吐量。
**本地** | 不使用性能数据提出建议的评估。 | VM 大小建议基于本地 VM 大小<br/><br> 建议的磁盘类型基于您在评估的存储类型设置中选择的内容。

### <a name="example"></a>示例
例如，如果您有一个具有四个内核的本地 VM 利用率为 20%，内存为 8 GB，利用率为 10%，则评估如下：

- **基于绩效的评估**：
    - 根据内核 （4 x 0.20 = 0.8） 和内存 （8 GB x 0.10 = 0.8） 利用率识别有效的内核和内存。
    - 应用评估属性中指定的舒适系数（例如 1.3x），以获得用于调整大小的值。 
    - 建议 Azure 中支持 ±1.04 内核 （0.8 x 1.3） 和 ±1.04 GB （0.8 x 1.3） 内存的最近 VM 大小。

- **按本地（本地）评估**：
    -  建议使用具有四个内核的 VM;8 GB 内存。

## <a name="best-practices-for-creating-assessments"></a>创建评估的最佳做法

Azure 迁移设备持续分析本地环境，并将元数据和性能数据发送到 Azure。 遵循以下最佳实践来评估使用设备发现的服务器：

- **创建"正在进行"评估**：一旦计算机显示在 Azure 迁移门户中，即可立即创建"正在执行"的评估。
- **创建基于绩效的评估**：设置发现后，我们建议您至少等待一天才能运行基于绩效的评估：
    - 收集性能数据需要时间。 等待至少一天可确保在运行评估之前有足够的性能数据点。
    - 运行基于绩效的评估时，请确保在评估持续时间内分析环境。 例如，如果创建绩效持续时间设置为一周的评估，则需要在开始发现后至少等待一周，以便收集所有数据点。 如果你不这样做，评估将不会得到五星级。
- **重新计算评估**：由于评估是时间点快照，因此不会使用最新数据自动更新。 要使用最新数据更新评估，您需要重新计算它。

遵循这些最佳做法，对通过 将导入 Azure 迁移的服务器进行评估。CSV 文件：

- **创建"正在进行"评估**：一旦计算机显示在 Azure 迁移门户中，即可立即创建"正在执行"的评估。
- **创建基于性能的评估**：这有助于获得更好的成本估算，尤其是在本地过度预配服务器容量时。 但是，基于性能的评估的准确性取决于您为服务器指定的性能数据。 
- **重新计算评估**：由于评估是时间点快照，因此不会使用最新数据自动更新。 要使用最新的导入数据更新评估，您需要重新计算它。

## <a name="best-practices-for-confidence-ratings"></a>信心评级的最佳做法

当您运行基于绩效的评估时，评估将授予从 1 星（最低）到 5 星（最高）的信心评级。 要有效地使用置信度：
- Azure 迁移服务器评估需要 VM CPU/内存的利用率数据。
- 对于连接到本地 VM 的每个磁盘，它需要读/写 IOPS/吞吐量数据。
- 对于连接到 VM 的每个网络适配器，它需要网络进出数据。

根据所选持续时间可用的数据点的百分比，评估的置信度如下表中的汇总结果。

   **数据点可用性** | **置信度分级**
   --- | ---
   0%-20% | 1 星
   21%-40% | 2 星
   41%-60% | 3 星
   61%-80% | 4 星
   81%-100% | 5 星


## <a name="common-assessment-issues"></a>共同评估问题

下面将如何解决影响评估的一些常见环境问题。

###  <a name="out-of-sync-assessments"></a>不同步评估

如果在创建评估后从组添加或删除计算机，则创建的评估将标记为**不同步**。再次运行评估 （**重新计算**） 以反映组更改。

### <a name="outdated-assessments"></a>过时的评估

如果对已评估的组中的 VM 的本地更改，则评估标记为**过时**。 要反映更改，再次运行评估。

### <a name="low-confidence-rating"></a>低置信度

由于多种原因，评估可能没有所有数据点：

- 在创建评估的过程中，你没有对环境进行分析。 例如，如果要创建基于*绩效的评估*，绩效持续时间设置为一周，则需要在开始发现后至少等待一周才能收集所有数据点。 您可以随时单击 **"重新计算"** 以查看最新的适用置信度评级。 仅在创建*基于绩效*的评估时，才适用置信度评级。

- 一些 VM 在进行评估计算期间关闭。 如果某些 VM 停机了一段时间，则服务器评估将无法收集该时段的性能数据。

- 启动服务器评估中的发现之后，基本不再创建 VM。 例如，如果要针对最后一个月的性能历史记录创建评估，但仅仅在一周前，在环境中创建了一些 VM， 在这种情况下，新 VM 的性能数据在整个过程中都不可用，并且置信度分级会较低。


## <a name="next-steps"></a>后续步骤

- [了解如何](concepts-assessment-calculation.md)计算评估。
- [了解如何](how-to-modify-assessment.md)自定义评估。
