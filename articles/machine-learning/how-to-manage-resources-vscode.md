---
title: 'VS Code 扩展 (预览中创建和管理资源) '
titleSuffix: Azure Machine Learning
description: 用 VS Code 扩展创建和管理资源
services: machine-learning
author: luisquintanilla
ms.author: luquinta
ms.reviewer: luquinta
ms.service: machine-learning
ms.subservice: core
ms.topic: how-to
ms.date: 07/09/2020
ms.openlocfilehash: 2deb939745647636cc04ae124d1e843db0bef7f6
ms.sourcegitcommit: 3541c9cae8a12bdf457f1383e3557eb85a9b3187
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/09/2020
ms.locfileid: "86206504"
---
# <a name="manage-azure-machine-learning-resources-with-the-vs-code-extension-preview"></a>利用 VS Code 扩展 (预览来管理 Azure 机器学习资源) 

了解如何管理 VS Code 扩展 Azure 机器学习资源。

![Azure 机器学习 VS Code 扩展](media/how-to-manage-resources-vscode/azure-machine-learning-vscode-extension.png)

## <a name="prerequisites"></a>先决条件

- Azure 订阅。 如果没有订阅，注册之后即可试用 [Azure 机器学习免费版或付费版](https://aka.ms/AMLFree)。
- Visual Studio Code。 如果尚未安装它，请[安装它](https://code.visualstudio.com/docs/setup/setup-overview)。
- VS Code Azure 机器学习扩展。 按照[Azure 机器学习 VS Code 扩展安装指南](tutorial-setup-vscode-extension.md#install-the-extension)安装该扩展。

以下所有过程都假设你处于 Visual Studio Code 的 Azure 机器学习视图中。 若要启动该扩展，请选择 "VS Code" 活动栏中的 " **Azure** " 图标。

## <a name="workspaces"></a>工作区

有关详细信息，请参阅[工作区](concept-workspace.md)。

### <a name="create-a-workspace"></a>创建工作区

1. 在 "Azure 机器学习" 视图中，右键单击 "订阅" 节点，然后选择 "**创建工作区**"。
1. 在提示符下：
    1. 提供工作区的名称
    1. 选择自己的 Azure 订阅
    1. 选择或创建新的资源组，以在中设置工作区
    1. 选择要设置工作区的位置。
    1. 选择 "*基本*" 和 "*企业*版"。 了解有关不同[Azure 机器学习版本](concept-editions.md)的详细信息。

用于创建工作区的替代方法包括：

- 单击 " `+` Azure 机器学习" 视图顶部的图标。
- 在设置其他资源的过程中，当系统提示选择工作区时，创建新的工作区。

### <a name="remove-a-workspace"></a>删除工作区

1. 展开包含您的工作区的订阅节点。
1. 右键单击要删除的工作区。
1. 选择是否要删除：
    - *仅工作区*：此选项**仅**删除工作区 Azure 资源。 工作区附加到的资源组、存储帐户和其他任何资源仍在 Azure 中。
    - *具有关联资源*：此选项删除工作区**及其**关联的所有资源。

## <a name="datastores"></a>数据存储

VS Code 扩展目前支持以下类型的数据存储：

- Azure 文件共享
- Azure Blob 存储

创建工作区时，将为每个类型创建一个数据存储。

有关详细信息，请参阅[数据存储](concept-data.md#datastores)。

### <a name="create-a-datastore"></a>创建数据存储

1. 展开包含您的工作区的订阅节点。
1. 展开要在其下创建数据存储的工作区节点。
1. 右键单击**数据存储**节点，然后选择 "**注册数据存储**"。
1. 在提示符下：
    1. 提供数据存储的名称。
    1. 选择 "数据存储类型"。
    1. 选择存储资源。 你可以选择与工作区关联的存储资源，或者从 Azure 订阅中的任何有效存储资源中进行选择。
    1. 选择数据位于先前选定的存储资源中的容器。
1. VS Code 中将出现一个配置文件。 如果你对配置文件满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

### <a name="manage-a-datastore"></a>管理数据存储

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 展开工作区内的 "**数据存储**" 节点。
1. 选择要执行的数据存储：
    - *设置为默认值*。 每次运行试验时，这都是将使用的数据存储。
    - *检查只读设置*。
    - *修改*。 更改身份验证类型和凭据。 支持的身份验证类型包括帐户密钥和 SAS 令牌。

## <a name="datasets"></a>数据集

该扩展插件当前支持以下数据集类型：

- *表格*：允许将数据具体化为数据帧 (Pandas 或 PySpark) 。
- *文件*：文件或文件的集合。 允许您将文件下载或装载到您的计算中。

有关详细信息，请参阅[数据集](concept-data.md#datasets)

### <a name="create-dataset"></a>创建数据集

1. 展开包含您的工作区的订阅节点。
1. 展开要在其下创建数据存储的工作区节点。
1. 右键单击 "**数据集**" 节点，然后选择 "**创建数据集**"。
1. 在提示符下：
    1. 选择数据集类型
    1. 定义数据是位于你的电脑上还是位于 web 上
    1. 提供数据的位置。 这可以是单个文件，也可以是包含数据文件的目录。
    1. 选择要将数据上传到的数据存储。
    1. 提供有助于标识数据存储中的数据集的前缀。

### <a name="version-datasets"></a>对数据集进行版本控制

当构建机器学习模型时，随着数据的变化，你可能需要对数据集进行版本。 若要在 VS Code 扩展中执行此操作：

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 展开 "**数据集**" 节点。
1. 右键单击要版本的数据集，然后选择 "新建**版本**"。
1. 在提示符下：
    1. 选择数据集类型
    1. 定义数据是位于您的 PC 上还是位于 web 上。
    1. 提供数据的位置。 这可以是单个文件，也可以是包含数据文件的目录。
    1. 选择要将数据上传到的数据存储。
    1. 提供有助于标识数据存储中的数据集的前缀。

### <a name="view-dataset-properties"></a>查看数据集属性

使用此选项可以查看与特定数据集关联的元数据。 若要在 VS Code 扩展中执行此操作：

1. 展开 "工作区" 节点。
1. 展开 "**数据集**" 节点。
1. 右键单击要检查的数据集，然后选择 "**查看数据集属性**"。 这会显示一个配置文件，其中包含最新的数据集版本的属性。

> [!NOTE]
> 如果你有多个版本的数据集，则可以选择仅查看特定版本的数据集属性，只需展开 "数据集" 节点并执行本部分所述的所需版本中所述的相同步骤。

### <a name="unregister-datasets"></a>注销数据集

若要删除数据集及其所有版本，请将其注销。 若要在 VS Code 扩展中执行此操作：

1. 展开 "工作区" 节点。
1. 展开 "**数据集**" 节点。
1. 右键单击要注销的数据集，然后选择 "**注销数据集**"。

## <a name="environments"></a>环境

有关详细信息，请参阅[环境](concept-environments.md)。

### <a name="create-environment"></a>创建环境

1. 展开包含您的工作区的订阅节点。
1. 展开要在其下创建数据存储的工作区节点。
1. 右键单击 "**环境**" 节点，然后选择 "**创建环境**"。
1. 在提示符下：
    1. 为环境提供名称
    1. 定义环境配置：
        - *特选环境*： Azure 机器学习中的预配置环境。 可以通过修改 JSON 文件中的属性来进一步自定义环境 `dependencies` 。 了解有关[特选环境](resource-curated-environments.md)的详细信息。
        - *Conda 依赖关系文件*：对于 Anaconda 环境，可以提供包含您的环境定义的文件。
        - *Pip 要求文件*：对于 Pip 环境，可以提供包含您的环境定义的文件。
        - *现有 Conda 环境*：此选项查找本地 PC 中的 Conda 环境，并尝试从所选环境构建环境。
        - *自定义*：定义自己的通道和依赖项
    1. 配置文件将在编辑器中打开。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

### <a name="view-environment-configurations"></a>查看环境配置

若要查看扩展中特定环境的依赖项和配置，请执行以下操作：

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 展开 "**环境**" 节点。
1. 右键单击要查看的环境，然后选择 "**查看环境**"。

### <a name="edit-environment-configurations"></a>编辑环境配置

若要为扩展中的特定环境编辑依赖项和配置，请执行以下操作：

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**环境**" 节点。
1. 右键单击要查看的环境，然后选择 "**编辑环境**"。
1. 进行修改后，如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

## <a name="experiments"></a>试验

有关详细信息，请参阅[试验](concept-azure-machine-learning-architecture.md#experiments)。

### <a name="create-experiment"></a>创建试验

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 右键单击工作区中的 "**试验**" 节点，然后选择 "**创建试验**"。
1. 在提示符下，为试验提供名称。

### <a name="run-experiment"></a>运行试验

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**试验**" 节点。
1. 右键单击要运行的试验。
1. 选择活动栏中的 "**运行试验**" 图标。
1. 选择订阅。
1. 选择 Azure ML 工作区以运行下的试验。
1. 选择试验。
1. 选择或创建计算以运行试验。
1. 为试验选择或创建运行配置。

或者，你可以在扩展的顶部选择 "**运行试验**" 按钮，并在提示符下配置试验。

### <a name="view-experiment"></a>查看试验

若要查看 Azure 机器学习 Studio 中的试验：

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**试验**" 节点。
1. 右键单击要查看的试验，然后选择 "**查看试验**"。 
1. 此时会出现一个提示，要求你在 Azure 机器学习 studio 中打开试验 URL。 选择“打开”。

### <a name="track-run-progress"></a>跟踪运行进度

运行试验时，可能要查看其进度。 若要从扩展跟踪 Azure 机器学习 studio 中运行的进度，请执行以下操作：

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**试验**" 节点。
1. 展开要跟踪进度的试验节点。
1. 右键单击该运行，然后**在 Azure 门户中选择 "查看运行**"。
1. 此时会出现一个提示，要求你在 Azure 机器学习 studio 中打开 "运行 URL"。 选择“打开”。

### <a name="download-run-logs--outputs"></a>下载运行日志 & 输出

运行完成后，您可能需要下载日志和资产，例如作为实验运行的一部分生成的模型。

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**试验**" 节点。
1. 展开要跟踪进度的试验节点。
1. 右键单击该运行：
    - 若要下载输出，请选择 "**下载输出**"。
    - 若要下载日志，请选择 "**下载日志**"。

### <a name="view-run-metadata"></a>查看运行元数据

在扩展中，可以检查元数据，例如用于运行的运行配置以及运行详细信息。

## <a name="compute-clusters"></a>计算群集

此扩展插件支持以下计算类型：

- Azure 机器学习计算群集
- Azure Kubernetes 服务

有关详细信息，请参阅[计算目标](concept-compute-target.md#train)。

### <a name="create-compute"></a>创建计算

1. 展开包含您的工作区的订阅节点。
1. 展开要在其下创建计算群集的工作区节点。
1. 右键单击 "**计算群集**" 节点，然后选择 "**创建计算**"。
1. 在提示符下：
    1. 选择计算类型
    1. 选择 VM 大小。 详细了解[VM 大小](https://docs.microsoft.com/azure/virtual-machines/linux/sizes)。
    1. 为计算提供名称。

### <a name="view-compute-configuration"></a>查看计算配置

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**计算群集**" 节点。
1. 右键单击要查看的计算，然后选择 "**查看计算属性**"。

### <a name="edit-compute-scale-settings"></a>编辑计算缩放设置

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**计算群集**" 节点。
1. 右键单击要编辑的计算，然后选择 "**编辑计算**"。
1. 计算的配置文件将在编辑器中打开。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

### <a name="delete-compute"></a>删除计算

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**计算群集**" 节点。
1. 右键单击要删除的计算，然后选择 "**删除计算**"。

### <a name="create-run-configuration"></a>创建运行配置

若要在扩展中创建运行配置：

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**计算群集**" 节点。
1. 右键单击要在其下创建运行配置的计算目标，然后选择 "**创建运行配置**"。
1. 在提示符下：
    1. 为计算目标提供名称
    1. 选择或创建新环境。
    1. 键入要运行的脚本的名称，或在本地计算机上的脚本中按**enter**键。
    1.  (可选) 选择是否要为训练运行创建数据引用。 这样做会提示你在运行配置中定义一个数据集。
        1. 从一个已注册的数据集中选择一个链接到运行配置的数据集的配置文件将在编辑器中打开。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。
    1. 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

### <a name="edit-run-configuration"></a>编辑运行配置

1. 展开包含您的工作区的订阅节点。
1. 在工作区的 "**计算**群集" 节点中展开计算群集节点。
1. 右键单击要编辑的运行配置，然后选择 "**编辑运行配置**"。
1. 运行配置的配置文件将在编辑器中打开。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

### <a name="delete-run-configuration"></a>删除运行配置

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 在**计算**群集节点内，展开相关的计算群集节点。
1. 右键单击要编辑的运行配置，然后选择 "**删除运行配置**"。

## <a name="models"></a>模型

有关详细信息，请参阅[模型](concept-azure-machine-learning-architecture.md#models)

### <a name="register-model"></a>注册模型

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 右键单击 "**模型**" 节点，然后选择 "**注册模型**"。
1. 在提示符下：
    1. 为模型提供名称
    1. 选择您的模型是文件还是文件夹。
    1. 查找本地 PC 中的模型。
    1. 编辑器中模型的配置文件。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

### <a name="view-model-properties"></a>查看模型属性

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**模型**" 节点。
1. 右键单击要查看其属性的模型，然后选择 "**查看模型属性**"。 文件将在包含模型属性的编辑器中打开。

### <a name="download-model"></a>下载模型

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**模型**" 节点。
1. 右键单击要下载的模型，然后选择 "**下载模型文件**"。

### <a name="delete-a-model"></a>删除模型

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**模型**" 节点。
1. 右键单击要删除的模型，然后选择 "**删除模型**"。

## <a name="endpoints"></a>终结点

VS Code 扩展支持以下部署目标：

- Azure 容器实例
- Azure Kubernetes 服务

有关详细信息，请参阅[web 服务终结点](concept-azure-machine-learning-architecture.md#web-service-endpoint)。

### <a name="create-deployments"></a>创建部署

> [!NOTE]
> 部署创建目前仅适用于 Conda 环境。

1. 展开包含您的工作区的订阅节点。
1. 展开 "工作区" 节点。
1. 右键单击 "**终结点**" 节点，然后选择 "**部署服务**"。
1. 在提示符下：
    1. 选择是否要使用已注册的模型或本地模型文件。
    1. 选择模型
    1. 选择要将模型部署到的部署目标。
    1. 提供模型的名称。
    1. 提供要在对模型进行评分时运行的脚本。
    1. 提供 Conda 依赖项文件。
    1. 你的部署的配置文件将显示在编辑器中。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。

> [!NOTE]
> 或者，您可以右键单击 "*模型*" 节点中已注册的模型，然后选择 "**从已注册的模型部署服务**"。

### <a name="delete-deployments"></a>删除部署

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**终结点**" 节点。
1. 右键单击要删除的部署，然后选择 "**删除服务**"。
1. 此时会出现一个提示，确认是否要删除该服务。 选择“确定”。

### <a name="manage-deployments"></a>管理部署

除了创建和删除部署，你还可以查看和编辑与部署关联的设置。

1. 展开包含您的工作区的订阅节点。
1. 展开工作区中的 "**终结点**" 节点。
1. 右键单击要管理的部署：
    - 若要编辑设置，请选择 "**编辑服务**"。
        - 你的部署的配置文件将显示在编辑器中。 如果你对配置感到满意，请选择 "**保存并继续**" 或打开 VS Code 命令面板 " (**查看 > 命令面板**) 并键入" **Azure ML：保存并继续**"。
    - 若要查看部署配置设置，请选择 "**查看服务属性**"。

## <a name="next-steps"></a>后续步骤

使用 VS Code 扩展[训练图像分类模型](tutorial-train-deploy-image-classification-model-vscode.md)。