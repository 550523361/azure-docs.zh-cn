---
title: 转换为指示器值
titleSuffix: Azure Machine Learning
description: 了解如何使用 Azure 机器学习中的 "转换为指示器值" 模块将包含分类值的列转换为一系列二进制指示器列。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/11/2020
ms.openlocfilehash: fc059eca3a01b5c6cde642af5ceb6a3822672def
ms.sourcegitcommit: 76bc196464334a99510e33d836669d95d7f57643
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/12/2020
ms.locfileid: "77165535"
---
# <a name="convert-to-indicator-values"></a>转换为指示器值
本文介绍 Azure 机器学习设计器的模块。

使用 Azure 机器学习设计器中的 "**转换为指示器值**" 模块将包含分类值的列转换为一系列二进制指示器列。  

此模块还输出用于转换为指示器值的转换的定义。 通过使用 "[应用转换](apply-transformation.md)" 模块，可以在具有相同架构的其他数据集上重复使用此转换。

## <a name="how-to-configure-convert-to-indicator-values"></a>如何配置转换为指示器值

1.  查找 "**转换为指示器值**" 并将其拖到管道草稿。 可以在 "**数据转换**" 类别下找到此模块。
    > [!NOTE]
    > 您可以使用 "**转换为 Indiciator 值**" 模块之前的 "[编辑元数据](edit-metadata.md)" 模块将目标列标记为分类。

1. 将 "**转换为指示器值**" 模块连接到包含要转换的列的数据集。 

1. 选择 "**编辑列**" 以选择一个或多个分类列。

1. 如果要**仅**输出新的布尔值列，请选择 "**覆盖分类列**" 选项。 默认情况下，此选项处于关闭状态。
    

    > [!TIP]
    >  如果选择 "覆盖" 选项，则不会实际删除或修改源列。 而是生成新列并将其显示在输出数据集中，并且源列在工作区中保持可用。 如果需要查看原始数据，可以随时使用 "[添加列](add-columns.md)" 模块将源列添加回。

1. 运行管道。

## <a name="results"></a>结果

假设您有一个包含分数的列，用于指示服务器的故障概率是高、中还是低。  

| 服务器 ID | 失败分数 |
| --------- | ------------- |
| 10301     | 低           |
| 10302     | 中型        |
| 10303     | 高          |

当您将**转换应用于指示器值**时，设计器会将标签的单列转换为多个包含布尔值的列：  

| 服务器 ID | 失败分数-低 | 故障评分-中等 | 故障评分-高 |
| --------- | ------------------- | ---------------------- | -------------------- |
| 10301     | 1                   | 0                      | 0                    |
| 10302     | 0                   | 1                      | 0                    |
| 10303     | 0                   | 0                      | 1                    |

下面是转换的工作方式：  

-   在描述风险的 "**失败分数**" 列中，只有三个可能的值（"高"、"中" 和 "低"），且没有缺失值。 因此，只创建了三个新列。  

-   新的指示器列基于源列的列标题和值进行命名，使用此模式： *\<源列 >-\<数据值 >* 。  

-   只有一个指示器列中应有1个，而在所有其他指示器列中应有0个，因为每个服务器只能有一个风险分级。  

你现在可以在机器学习模型中使用三个指示器列作为功能。

该模块将返回两个输出：

- **结果数据集**：包含已转换指示器值列的数据集。 未选择进行清理的列也 "通过"。
- **指示器值转换**：一种用于转换为指示器值的数据转换，可以将其保存在工作区中，以后再应用于新数据。

## <a name="apply-a-saved-indicator-values-operation-to-new-data"></a>将保存的 "指示器值" 操作应用于新数据

如果需要经常重复指标值操作，可以将数据操作步骤保存为*转换*，以将其重复用于相同的数据集。 如果必须经常重新导入并清除具有相同架构的数据，则这非常有用。

1. 向管道添加 "[应用转换](apply-transformation.md)" 模块。

1. 添加要清理的数据集，并将数据集连接到右侧输入端口。

1. 展开设计器的左窗格中的 "**数据转换**" 组。 找到保存的转换，并将其拖放到管道中。

1. 将保存的转换连接到 "[应用转换](apply-transformation.md)" 的左侧输入端口。

   应用保存的转换时，不能选择要转换的列。 这是因为已经定义了转换，并自动将其应用到原始操作中指定的数据类型。

1. 运行管道。
 
## <a name="technical-notes"></a>技术说明  

本部分包含实现详细信息、提示以及常见问题的解答。

### <a name="usage-tips"></a>使用提示

-   只能将标记为分类的列转换为指示器列。 如果看到以下错误，则很可能是你选择的某个列不是分类的：  

     错误0056：名称为 \<列名 > 的列不在允许的类别中。  

     默认情况下，大多数字符串列都作为字符串功能处理，因此必须使用[编辑元数据](edit-metadata.md)将其显式标记为分类。  

-   可以转换为指示器列的列数没有限制。 但是，因为每个值列都可以产生多个指示器列，所以您可能希望一次只转换和查看几个列。  

-   如果该列包含缺失值，则会为缺少的类别创建一个单独的指示器列，名称为： *\<源列 >-缺少*  

-   如果您转换为指示器值的列包含数字，则必须将它们标记为像任何其他功能列一样的分类。 完成此操作后，数值将被视为离散值。 例如，如果您有一个 MPG 值介于25和30之间的数字列，则将为每个离散值创建一个新的指示器列：  

    | 制造商       | 高速公路 mpg-25 | 高速公路 mpg-26 | 高速公路 mpg-27 | 高速公路 mpg-28 | 高速公路 mpg-29 | 高速公路 mpg-30 |
    | ---------- | --------------- | --------------- | --------------- | --------------- | --------------- | --------------- |
    | Contoso 汽车 | 0               | 0               | 0               | 0               | 0               | 1               |

- 为避免向数据集添加过多维度。 建议您首先检查列中的值的数目，然后将数据放在适当的纸盒或量化中。  


## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习[的模块集](module-reference.md)。 
