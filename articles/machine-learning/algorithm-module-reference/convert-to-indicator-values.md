---
title: 转换为指示器值
titleSuffix: Azure Machine Learning
description: 了解如何在 Azure 机器学习中使用"转换为指标值"模块将包含分类值的列转换为一系列二进制指标列。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/11/2020
ms.openlocfilehash: f1b194f2c65f95ad4daff0353d05ca589db9ce51
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477657"
---
# <a name="convert-to-indicator-values"></a>转换为指示器值
本文介绍了 Azure 机器学习设计器的模块。

使用 Azure 机器学习设计器中的 **"转换为指标值"** 模块将包含分类值的列转换为一系列二进制指标列。  

此模块还输出用于转换为指标值的转换的定义。 通过使用[应用转换](apply-transformation.md)模块，可以在具有相同架构的其他数据集上重用此转换。

## <a name="how-to-configure-convert-to-indicator-values"></a>如何配置转换为指标值

1.  查找 **"转换为指标值"** 并将其拖动到管道草稿。 您可以在 **"数据转换**"类别下找到此模块。
    > [!NOTE]
    > 您可以在 **"转换为稻断器值"** 模块之前使用["编辑元数据](edit-metadata.md)"模块将目标列标记为分类。

1. 将 **"转换为指标值"** 模块连接到包含要转换的列的数据集。 

1. 选择 **"编辑"列**以选择一个或多个分类列。

1. 如果**只想输出新的**布尔列，请选择 **"覆盖分类列"** 选项。 默认情况下关闭此选项。
    

    > [!TIP]
    >  如果选择覆盖选项，则实际上不会删除或修改源列。 相反，将生成新列并在输出数据集中显示，并且源列在工作区中仍然可用。 如果需要查看原始数据，您可以随时使用["添加列"](add-columns.md)模块将源列重新添加。

1. 提交管道。

## <a name="results"></a>结果

假设您有一个列，其分数指示服务器是否具有高、中或低失败概率。  

| 服务器 ID | 失败分数 |
| --------- | ------------- |
| 10301     | 低           |
| 10302     | 中型        |
| 10303     | 高          |

当您应用 **"转换为指标值"** 时，设计器会将单个标签列转换为包含布尔值的多个列：  

| 服务器 ID | 失败分数 - 低 | 失败分数 - 中等 | 失败分数 - 高 |
| --------- | ------------------- | ---------------------- | -------------------- |
| 10301     | 1                   | 0                      | 0                    |
| 10302     | 0                   | 1                      | 0                    |
| 10303     | 0                   | 0                      | 1                    |

转换的工作原理：  

-   在描述风险**的"失败评分**"列中，只有三个可能的值（高值、中值和低值），并且没有缺失值。 因此，正好创建了三个新列。  

-   使用此模式：*\<源列>-\<数据值>，* 根据源列的列标题和值命名新的指标列。  

-   一个指标列中应有 1，所有其他指标列中应有 0，因为每个服务器只能有一个风险评级。  

现在，您可以在机器学习模型中使用三个指标列作为功能。

模块将返回两个输出：

- **结果数据集**：具有转换指标值列的数据集。 也会“传递”未选择进行清理的列。
- **指标值转换**：用于转换为指标值的数据转换，可以保存在工作区中，以后应用于新数据。

## <a name="apply-a-saved-indicator-values-operation-to-new-data"></a>将保存的指标值操作应用于新数据

如果需要经常重复指标值操作，可以将数据操作步骤另存为*转换*，以便在同一数据集中重用它。 如果必须经常重新导入，然后清除具有相同架构的数据，则此功能非常有用。

1. 将[应用转换](apply-transformation.md)模块添加到管道。

1. 添加要清理的数据集，并将该数据集连接到右侧输入端口。

1. 在设计器的左侧窗格中展开**数据转换**组。 找到已保存的转换，并将其拖放到管道中。

1. 将已保存的转换连接到[应用转换](apply-transformation.md)的左侧输入端口。

   应用保存的转换时，无法选择要转换的列。 这是因为转换已定义并自动应用于原始操作中指定的数据类型。

1. 提交管道。
 
## <a name="technical-notes"></a>技术说明  

本部分包含实现详情、使用技巧和常见问题解答。

### <a name="usage-tips"></a>使用提示

-   只能将标记为分类的列转换为指示器列。 如果看到以下错误，则所选列之一很可能不是分类的：  

     错误 0056：名称\<列名称>列不在允许的类别中。  

     默认情况下，大多数字符串列都作为字符串要素处理，因此必须使用[编辑元数据](edit-metadata.md)显式将它们标记为分类。  

-   可以转换为指标列的列数没有限制。 但是，由于每一列值可以生成多个指标列，因此您可能希望一次仅转换和查看几列。  

-   如果列包含缺少值，则为缺少的类别创建单独的指示器列，该名称为：*\<源列> - 缺少*  

-   如果转换为指标值的列包含数字，则必须将其标记为分类，就像任何其他要素列一样。 完成此操作后，数字将被视为离散值。 例如，如果您有一个数字列，其 MPG 值范围为 25 到 30，则将为每个离散值创建新的指标列：  

    | 制造商       | 高速公路 mpg -25 | 高速公路 mpg -26 | 高速公路 mpg -27 | 高速公路 mpg -28 | 高速公路 mpg -29 | 高速公路 mpg -30 |
    | ---------- | --------------- | --------------- | --------------- | --------------- | --------------- | --------------- |
    | 孔托索汽车 | 0               | 0               | 0               | 0               | 0               | 1               |

- 避免向数据集添加过多维度。 我们建议您首先检查列中的值数，并适当地对数据进行 bin 或量化。  


## <a name="next-steps"></a>后续步骤

参阅 Azure 机器学习[可用的模块集](module-reference.md)。 
