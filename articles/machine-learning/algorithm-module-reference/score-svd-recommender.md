---
title: 评分 SVD 推荐器： Module Reference
titleSuffix: Azure Machine Learning service
description: 了解如何使用 Azure 机器学习服务中的评分 SVD 推荐器模块来评分数据集的建议预测。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: 25de69873857512a70d6417973d4a85883ac6455
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "73517912"
---
# <a name="score-svd-recommender"></a>评分 SVD 推荐器

本文介绍如何在 Azure 机器学习设计器（预览版）中使用**评分 SVD 推荐器**模块。 使用此模块可以根据 SVD （单值分解）算法，使用经过训练的建议模型创建预测。

SVD 推荐器可以生成两种不同类型的预测：

- [预测给定用户和项目的评级](#predict-ratings)

- [向给定用户推荐项目](#recommend)

创建第二种预测时，可以在*生产模式*或*评估模式下*运行。

- **生产模式**考虑所有用户或项目，通常用于 web 服务。

    你可以为新用户创建评分，而不仅是在训练期间查看的用户。 有关详细信息，请参阅[此部分](#technical-notes)。 

- **评估模式**适用于一组简化的用户或可评估的项目，通常在 pipelineation 期间使用。

有关 SVD 推荐器算法的详细信息，请参阅研究论文：[用于推荐器系统的矩阵因子分解技术](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf)。

                                                                                                                                    


## <a name="how-to-configure-score-svd-recommender"></a>如何配置评分 SVD 推荐器

此模块支持不同类型的建议，每个建议都有不同的要求。 单击你具有的数据类型的链接，并单击你想要创建的建议类型。

+ [预测分级](#predict-ratings)
+ [建议项](#recommend)

###  <a name="predict-ratings"></a>预测分级

预测分级时，模型将计算给定用户在给定定型数据时对特定项的反应。 因此，评分的输入数据必须同时提供用户和项。

1. 将定型的建议模型添加到管道，并将其连接到**训练有素的 SVD 推荐器**。  必须使用[定型 SVD 推荐器](train-SVD-recommender.md)创建模型。

2. **推荐器预测类型**：选择 "**分级预测**"。 不需要其他参数。

3. 添加要进行预测的数据，并将其连接到**数据集到分数**。

    若要预测分级，输入数据集必须包含用户-项对。

    数据集可以包含第一列和第二列中用户项对的可选第三列评级，但在预测过程中将忽略第三列。

4. 运行管道。

### <a name="results-for-rating-predictions"></a>分级预测的结果 

输出数据集包含三列，其中包含用户、项和每个输入用户和项的预测评级。

###  <a name="recommend"></a>推荐 

若要为用户推荐项，请提供用户列表和项作为输入。 在此数据中，该模型使用有关现有项和用户的知识来生成项列表，并使每个用户都有吸引力。 您可以自定义返回的建议数，并为生成建议所需的以前的建议数设置阈值。

1. 将定型的建议模型添加到管道，并将其连接到**训练有素的 SVD 推荐器**。  必须使用[定型 SVD 推荐器](train-svd-recommender.md)创建模型。

2. 若要为给定用户列表推荐项，请将**推荐器预测类型**设置为 "**项建议**"。

3. **推荐的项目选择**：通过选择以下值之一，指示是要在生产中使用计分模块还是使用模型评估：

    - **从 "所有项**"：如果要设置要在 Web 服务或生产中使用的管道，请选择此选项。  此选项启用**生产模式**，并且该模块从在训练过程中发现的所有项目提出建议。

    - **From 分级项（用于模型评估）** ：如果要开发或测试模型，请选择此选项。 此选项可启用**评估模式**，并且模块仅提供输入数据集中已分级的项的建议。
    
    - **从未分级项（向用户建议新项）** ：选择此选项，并且该模块仅提供尚未评级的定型数据集中的那些项的建议。 

4. 添加要进行预测的数据集，并将其连接到**数据集到分数**。

    - 对于**所有项中**的，输入数据集应包含一个列，其中包含为其提供建议的用户的标识符。

        数据集可以包含额外的两列项标识符和分级，但这两列将被忽略。 

    - 对于**来自分级项（对于模型评估）** 的，输入数据集应包含**用户-项对**。 第一列应包含**用户**标识符。 第二列应包含相应的**项**标识符。

        数据集可以包含用户-项分级的第三列，但此列将被忽略。

    - 对于**来自未分级项的（向用户建议新项）** ，输入数据集应包含**用户-项对**。 第一列应包含**用户**标识符。 第二列应包含相应的**项**标识符。

        数据集可以包含用户-项分级的第三列，但此列将被忽略。

5. **要向用户推荐的最大项目数**：键入每个用户要返回的项目数。 默认情况下，建议使用5个项。

6. **每个用户的建议池的最小大小**：键入一个值，该值指示需要的前几个建议。  默认情况下，此参数设置为2，表示必须至少由两个其他用户推荐此项。

    只有在评估模式下评分时才应使用此选项。 如果选择 "**从所有项目**" 或 "从未**分级项" （向用户建议新项）** ，则此选项不可用。

7.  对于未**分级的项（向用户建议新项）** ，请使用名为 "**定型数据**" 的第三个输入端口来移除已从预测结果评级的项。

    若要应用此筛选器，请将原始训练数据集连接到输入端口。

8. 运行管道。

### <a name="results-of-item-recommendation"></a>项建议的结果

**计分 SVD 推荐器**返回的数据集列出了每个用户的建议项。

- 第一列包含用户标识符。
- 系统会生成多个其他列，具体取决于为**用户推荐的最大项目数**设置的值。 每一列都包含一个推荐项（按标识符）。 建议按用户-项相关性排序，项的最大相关性置于**第1项**。

> [!WARNING]
> 使用 "[评估推荐器](evaluate-recommender.md)" 模块无法计算此评分的数据集。


##  <a name="technical-notes"></a>技术说明

本部分包含有关使用推荐器创建预测的一些常见问题的解答。  

###  <a name="production-use-of-the-svd-recommender"></a>SVD 推荐器的生产用途

如果使用 SVD 推荐器的管道，并将该模型移动到生产环境中，则在评估模式和生产模式下使用推荐器时，请注意以下重要区别：

- 根据定义，计算要求预测可以根据测试*集中的实际情况进行验证*。 因此，在计算推荐器时，它必须只预测在测试集中已评级的项。 这就一定会限制预测的可能值。

    但是，在操作模型时，通常会根据所有可能的项更改预测模式，以获得最佳预测。 对于其中的许多预测，没有对应的真假，因此不能像在 pipelineation 过程中那样验证建议的准确性。


## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习服务[的模块集](module-reference.md)。 
