---
title: 评分 SVD 推荐器： Module reference
titleSuffix: Azure Machine Learning
description: 了解如何使用 Azure 机器学习中的评分 SVD 推荐器模块来评分数据集的建议预测。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/10/2020
ms.openlocfilehash: a3eafc28dc6d0f44a1f1019cb3393259aa2a698a
ms.sourcegitcommit: 3c925b84b5144f3be0a9cd3256d0886df9fa9dc0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/28/2020
ms.locfileid: "77920342"
---
# <a name="score-svd-recommender"></a>为 SVD 推荐器评分

本文介绍如何在 Azure 机器学习设计器（预览版）中使用评分 SVD 推荐器模块。 使用此模块可以通过基于单值分解（SVD）算法的定型建议模型创建预测。

SVD 推荐器可以生成两种不同类型的预测：

- [预测给定用户和项目的评级](#prediction-of-ratings)
- [向用户推荐项](#recommendations-for-users)

创建第二种类型的预测时，可以采用以下模式之一操作：

- **生产模式**考虑所有用户或项目。 它通常用在 web 服务中。

  你可以为新用户创建评分，而不仅是在训练期间查看的用户。 有关详细信息，请参阅[技术说明](#technical-notes)。 

- **评估模式**针对一组简化的用户或可以评估的项目进行操作。 它通常用于管道操作。

有关 SVD 推荐器算法的详细信息，请参阅[用于推荐器系统的研究论文列表因子分解技术](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf)。

## <a name="how-to-configure-score-svd-recommender"></a>如何配置评分 SVD 推荐器

此模块支持两种类型的预测，每种类型都有不同的要求。 

###  <a name="prediction-of-ratings"></a>分级预测

预测分级时，该模型会根据定型数据计算用户对特定项的反应。 评分的输入数据必须同时提供用户和项。

1. 将定型的建议模型添加到管道，并将其连接到**训练有素的 SVD 推荐器**。 必须使用[定型 SVD 推荐器](train-SVD-recommender.md)模块来创建模型。

2. 对于 "**推荐器预测类型**"，请选择 "**分级预测**"。 不需要其他参数。

3. 添加要进行预测的数据，并将其连接到**数据集到分数**。

   为了使模型预测分级，输入数据集必须包含用户-项对。

   数据集可以包含第三列和第二列中的用户-项对的可选第三列。 但在预测过程中将忽略第三列。

4. 运行管道。

### <a name="results-for-rating-predictions"></a>分级预测的结果 

输出数据集包含三列：用户、项和每个输入用户和项的预测评级。

###  <a name="recommendations-for-users"></a>用户建议 

若要为用户推荐项，请提供用户列表和项作为输入。 在此数据中，该模型使用有关现有项和用户的知识来生成项列表，并使每个用户都有吸引力。 你可以自定义返回的建议数。 您可以为生成建议所需的以前的建议数设置阈值。

1. 将定型的建议模型添加到管道，并将其连接到**训练有素的 SVD 推荐器**。  必须使用[定型 SVD 推荐器](train-svd-recommender.md)模块来创建模型。

2. 若要为用户列表建议项，请将**推荐器预测类型**设置为 "**项建议**"。

3. 对于**推荐的项目选择**，指示是要在生产中使用评分模块还是使用模型评估。 选择以下值之一：

    - **从所有项目**：如果要设置要在 web 服务中使用或在生产环境中使用的管道，请选择此选项。  此选项启用*生产模式*。 该模块从培训过程中发现的所有项目提出建议。

    - **从分级项（用于模型评估）** ：如果要开发或测试模型，请选择此选项。 此选项可启用*评估模式*。 该模块仅根据输入数据集中已评级的项提出建议。
    
    - **从未分级项（向用户建议新项）** ：如果你希望该模块仅从尚未分级的定型数据集中的项提出建议，请选择此选项。 

4. 添加要进行预测的数据集，并将其连接到**数据集到分数**。

    - 对于**所有项中**的，输入数据集应包含一列。 它包含为其提出建议的用户的标识符。

      数据集可以包含额外的两列项标识符和分级，但这两列将被忽略。 

    - 对于**来自分级项（对于模型评估）** 的，输入数据集应包含用户-项对。 第一列应包含用户标识符。 第二列应包含相应的项标识符。

      数据集可以包含用户-项分级的第三列，但此列将被忽略。

    - 对于**来自未分级项的（向用户建议新项）** ，输入数据集应包含用户-项对。 第一列应包含用户标识符。 第二列应包含相应的项标识符。

     数据集可以包含用户-项分级的第三列，但此列将被忽略。

5. **向用户推荐的最大项目数**：输入要为每个用户返回的项目数。 默认情况下，该模块建议5个项。

6. **每个用户的建议池的最小大小**：输入一个值，该值指示需要的前几个建议。 默认情况下，此参数设置为2，表示至少有两个其他用户建议了该项。

   仅当在评估模式下评分时才使用此选项。 如果选择 "**从所有项目**" 或 "从未**分级项" （向用户建议新项）** ，则此选项不可用。

7.  对于未**分级的项（向用户建议新项）** ，请使用名为 "**定型数据**" 的第三个输入端口来移除已从预测结果评级的项。

    若要应用此筛选器，请将原始训练数据集连接到输入端口。

8. 运行管道。

### <a name="results-of-item-recommendation"></a>项建议的结果

计分 SVD 推荐器返回的数据集列出了每个用户的建议项：

- 第一列包含用户标识符。
- 系统会生成多个其他列，具体取决于为**建议用户的最大项目数**设置的值。 每一列都包含一个推荐项（按标识符）。 建议按用户项相关性排序。 具有最高相关性的项放在列**项 1**中。

> [!WARNING]
> 您无法使用 "[评估推荐器](evaluate-recommender.md)" 模块来评估此评分的数据集。


##  <a name="technical-notes"></a>技术说明

如果有一个管道与 SVD 推荐器，并将该模型移动到生产环境，请注意，在评估模式下使用推荐器和在生产模式下使用该有一些主要区别。

根据定义，评估要求可以针对测试集中的*真实情况*进行验证的预测。 计算推荐器时，它必须只预测在测试集中已评级的项。 这会限制预测的可能值。

在操作模型时，通常会根据所有可能的项更改预测模式，以获得最佳预测。 对于其中的许多预测，没有对应的诚实事实。 因此，不能像在管道操作期间那样验证建议的准确性。


## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习[的模块集](module-reference.md)。 
