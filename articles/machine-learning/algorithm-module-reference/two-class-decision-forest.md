---
title: 双类决策林：模块引用
titleSuffix: Azure Machine Learning
description: 了解如何在 Azure 机器学习中使用双类决策林模块来基于决策林算法创建机器学习模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/22/2019
ms.openlocfilehash: acf0409459994adf5dde98fb3b1a8ab2e280df76
ms.sourcegitcommit: 812bc3c318f513cefc5b767de8754a6da888befc
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/12/2020
ms.locfileid: "77153700"
---
# <a name="two-class-decision-forest-module"></a>双类决策林模块

本文介绍 Azure 机器学习设计器（预览版）中的模块。

使用此模块可以基于决策林算法创建机器学习模型。  

决策林是快速、监督系综的模型。 如果要预测最多包含两个结果的目标，则可以使用此模块。 

## <a name="understanding-decision-forests"></a>了解决策林

此决策林算法是一种用于分类任务的系综学习方法。 系综方法基于一般原则，而不是依赖单个模型，你可以通过创建多个相关模型并将它们组合在一起，获得更好的结果和更一般化的模型。 一般而言，与单一决策树相比，系综模型提供更好的覆盖范围和准确性。 

有多种方法可以创建单独的模型，并在系综中将它们组合在一起。 决策林的特定实现通过构建多个决策树，然后对最常见的输出类进行**投票**来实现。 投票是在系综模型中生成结果的一种更好的方法。 

+ 许多单独的分类树是使用整个数据集创建的，但不同（通常是随机化）的起点。 这不同于随机林方法，在此方法中，各个决策树可能只使用部分数据或功能的随机部分。
+ 决策林树中的每个树都输出标签的非规范化频率直方图。 
+ 聚合过程对这些直方图求和并规范化结果，以获取每个标签的 "概率"。 
+ 预测置信度较高的树在最终决定系综时具有更大的权重。

通常，决策树具有多个分类任务的优点：
  
- 它们可以捕获非线性决策边界。
- 您可以训练和预测大量数据，因为它们在计算和内存使用方面都是高效的。
- 功能选择在训练和分类过程中集成。  
- 树可以容纳干扰性数据和许多功能。  
- 它们是非参数模型，这意味着它们可以处理不同分布的数据。 

不过，简单的决策树可以 overfit 数据，并且不如整体的可归纳。

有关详细信息，请参阅[决策林](https://go.microsoft.com/fwlink/?LinkId=403677)。  

## <a name="how-to-configure"></a>配置方式
  
1.  在 Azure 机器学习中将 "**双类决策林**" 模块添加到管道中，然后打开该模块的**属性**窗格。 

    可以在 "**机器学习**" 下找到该模块。 依次展开 "**初始化**" 和 "**分类**"。  
  
2.  对于 "重新**采样" 方法**，请选择用于创建单个树的方法。  可以从**装袋**或**复制**中进行选择。  
  
    -   **装袋**：装袋也称为*启动聚合*。 在此方法中，每个树都在新示例上增长，这是通过在数据集的大小为原始数据集的情况下随机采样原始数据集而创建的。  
  
         模型的输出通过*投票*合并，这是一种聚合形式。 分类决策林中的每个树都输出标签的非规范化频率直方图。 聚合是为了为每个标签计算这些直方图和规范化的 "概率"。 通过这种方式，具有高预测置信度的树在最终决定系综时具有更大的权重。  
  
         有关详细信息，请参阅用于启动聚合的维基百科条目。  
  
    -   **复制**：在复制中，每个树都在完全相同的输入数据上定型。 确定将哪个拆分谓词用于每个树节点会保持不变，并且树将是不同的。   
  
3.  通过设置 "**创建训练人员模式**" 选项，指定要如何定型模型。  
  
    -   **单个参数**：如果你知道要如何配置模型，则可以提供一组特定值作为参数。
  
4.  对于 "**决策树的数量**"，请键入可在系综中创建的决策树的最大数目。 通过创建更多决策树，你可能获得更好的覆盖范围，但训练时间会增加。  
  
    > [!NOTE]
    >  此值还控制在可视化定型模型时显示的树的数目。 如果要查看或打印单个树，可将值设置为1。 但是，只能生成一个树（带有初始参数集的树），而不执行进一步的迭代。
  
5.  有关**决策树的最大深度**，请键入一个数字，以限制任何决策树的最大深度。 增加树的深度可以提高精确性，但你可能会面临一些过度拟合和训练时间增加的风险。
  
6.  对于**每个节点的随机拆分数**，请键入生成树的每个节点时要使用的拆分数。 *拆分*意味着将随机划分树的每个级别（节点）中的功能。
  
7.  对于**每个叶节点的最小样本数**，指示在树中创建任何终端节点（叶）所需的最小事例数。
  
     通过增加此值，你可以增加用于创建新规则的阈值。 例如，默认值为 1 时，甚至单个案例也会导致创建新规则。 如果您将此值增大至 5，则定型数据中至少必须包含 5 个符合相同条件的用例。  
  
8.  选择 "对**分类特征允许未知值**" 选项，为定型或验证集中的未知值创建组。 对于已知值，该模型可能不太准确，但它可以为新（未知）值提供更好的预测。 

     如果取消选择此选项，该模型只会接受训练数据中包含的值。
  
9. 附加带标签的数据集和[定型模块](module-reference.md)之一：  
  
    -   如果将 "**创建**训练人员模式" 设置为 "**单个参数**"，请使用 "[训练模型](./train-model.md)" 模块。  
    
## <a name="results"></a>结果

训练完成后：

+ 若要保存训练模型的快照，请选择 "**定型模型**" 模块右侧面板中的 "**输出**" 选项卡。 选择 "**注册数据集**" 图标，将该模型保存为可重复使用的模块。

+ 若要使用模型进行评分，请将**评分模型**模块添加到管道。

## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习[的模块集](module-reference.md)。 