---
title: Azure SQL 数据库基于 vCore 的资源限制 - 弹性池 | Microsoft Docs
description: 本页介绍 Azure SQL 数据库中弹性池的一些常见基于 vCore 的资源限制。
services: sql-database
author: CarlRabeler
manager: craigg
ms.service: sql-database
ms.custom: DBs & servers
ms.topic: conceptual
ms.date: 06/20/2018
ms.author: carlrab
ms.openlocfilehash: 01f213c7cf5f6be3ef84601a50bb4455422faf22
ms.sourcegitcommit: 638599eb548e41f341c54e14b29480ab02655db1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/21/2018
ms.locfileid: "36311181"
---
# <a name="azure-sql-database-vcore-based-purchasing-model-limits-for-elastic-pools-preview"></a>Azure SQL 数据库基于 vCore 的购买模型针对弹性池的限制（预览版）

本文提供针对使用基于 vCore 的购买模型的 Azure SQL 数据库弹性池和入池数据库的详细资源限制。

有关基于 DTU 的购买模型限制，请参阅 [SQL 数据库基于 DTU 的资源限制 - 弹性池](sql-database-dtu-resource-limits-elastic-pools.md)。


## <a name="elastic-pool-storage-sizes-and-performance-levels"></a>弹性池：存储大小和性能级别

对于 SQL 数据库弹性池，下表显示了在每个服务层和性能级别可用的资源。 可通过 [Azure 门户](sql-database-elastic-pool-manage.md#azure-portal-manage-elastic-pools-and-pooled-databases)、[PowerShell](sql-database-elastic-pool-manage.md#powershell-manage-elastic-pools-and-pooled-databases)、[Azure CLI](sql-database-elastic-pool-manage.md#azure-cli-manage-elastic-pools-and-pooled-databases) 或 [REST API](sql-database-elastic-pool-manage.md#rest-api-manage-elastic-pools-and-pooled-databases) 设置服务层、性能级别和存储量。

> [!NOTE]
> 弹性池中各个数据库的资源限制通常与池外部具有相同性能级别的各个数据库相同。 例如，GP_Gen4_1 数据库的最大并发工作进程数为 200 个。 因此，GP_Gen4_1 池中数据库的最大并发工作进程数也是 200 个。 请注意，GP_Gen4_1 池中的并发工作进程总数为 210 个。

### <a name="general-purpose-service-tier"></a>常规用途服务层

#### <a name="generation-4-compute-platform"></a>第 4 代计算平台
|性能级别|GP_Gen4_1|GP_Gen4_2|GP_Gen4_4|GP_Gen4_8|GP_Gen4_16|GP_Gen4_24|
|:--- | --: |--: |--: |--: |--: |--: |
|硬件代次|4|4|4|4|4|4|
|vCore 数|1|2|4|8|16|24|
|内存 (GB)|7|14|28|56|112|168|
|列存储支持|是|是|是|是|是|是|
|内存中 OLTP 存储 (GB)|不适用|不适用|不适用|不适用|不适用|不适用|
|存储类型|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|
|最大数据大小 (GB)|512|756|1536|2048|3584|4096|
|最大日志大小|154|227|461|614|1075|1229|
|TempDB 大小 (DB)|32|64|128|256|384|384|
|目标 IOPS (64 KB)|500|1000|2000|4000|7000|7000|
|IO 延迟（近似）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|
|最大并发工作线程数（请求数）|210|420|840|1680|3360|5040|
|允许的最大会话数|30000|30000|30000|30000|30000|30000|
|最大池密度|100|200|500|500|500|500|
|最小/最大弹性池点击停止次数|0, 0.25, 0.5, 1|0, 0.25, 0.5, 1, 2|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|
|副本数|1|1|1|1|1|1|
|Multi-AZ|不适用|不适用|不适用|不适用|不适用|不适用|
|读取横向扩展|不适用|不适用|不适用|不适用|不适用|不适用|
|随附的备份存储|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|
|||

#### <a name="generation-5-compute-platform"></a>第 5 代计算平台
|性能级别|GP_Gen5_2|GP_Gen5_4|GP_Gen5_8|GP_Gen5_16|GP_Gen5_24|GP_Gen5_32|GP_Gen5_40|GP_Gen5_80|
|:--- | --: |--: |--: |--: |--: |--: |--: |--: |
|硬件代次|5|5|5|5|5|5|5|5|
|vCore 数|2|4|8|16|24|32|40|80|
|内存 (GB)|11|22|44|88|132|176|220|440|
|列存储支持|是|是|是|是|是|是|是|是|
|内存中 OLTP 存储 (GB)|不适用|不适用|不适用|不适用|不适用|不适用|不适用|不适用|
|存储类型|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|高级（远程）存储|
|最大数据大小 (GB)|512|756|1536|2048|3072|4096|4096|4096|
|最大日志大小|154|227|461|614|922|1229|1229|1229|
|TempDB 大小 (DB)|64|128|256|384|384|384|384|384|
|目标 IOPS (64 KB)|500|1000|2000|4000|6000|7000|7000|7000|
|IO 延迟（近似）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|5-7 毫秒（写入）<br>5-10 毫秒（读取）|
|最大并发工作线程数（请求数）|210|420|840|1680|2520|3360|4200|8400
|允许的最大会话数|30000|30000|30000|30000|30000|30000|30000|30000|
|最大池密度|100|200|500|500|500|500|500|500|
|最小/最大弹性池点击停止次数|0, 0.25, 0.5, 1, 2|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|0, 0.5, 1, 2, 4, 8, 16, 24, 32|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40, 80|
|副本数|1|1|1|1|1|1|1|1|
|Multi-AZ|不适用|不适用|不适用|不适用|不适用|不适用|不适用|不适用|
|读取横向扩展|不适用|不适用|不适用|不适用|不适用|不适用|不适用|不适用|
|随附的备份存储|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|
|||

### <a name="business-critical-service-tier"></a>“业务关键”服务层

#### <a name="generation-4-compute-platform"></a>第 4 代计算平台
|性能级别|BC_Gen4_1|BC_Gen4_2|BC_Gen4_4|BC_Gen4_8|BC_Gen4_16|BC_Gen4_24|
|:--- | --: |--: |--: |--: |--: |--: |
|硬件代次|4|4|4|4|4|4|
|vCore 数|1|2|4|8|16|24|
|内存 (GB)|7|14|28|56|112|168|
|列存储支持|是|是|是|是|是|是|
|内存中 OLTP 存储 (GB)|1|2|4|8|20|36|
|存储类型|本地 SSD|本地 SSD|本地 SSD|本地 SSD|本地 SSD|本地 SSD|
|最大数据大小 (GB)|1024|1024|1024|1024|1024|1024|
|最大日志大小|307|307|307|307|307|307|
|TempDB 大小 (DB)|32|64|128|256|384|384|
|目标 IOPS (64 KB)|5000|10000|20000|40000|80000|120000|
|IO 延迟（近似）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|
|最大并发工作线程数（请求数）|210|420|840|1680|3360|5040|
|允许的最大会话数|30000|30000|30000|30000|30000|30000|
|最大池密度|不适用|50|100|100|100|100|
|最小/最大弹性池点击停止次数|不适用|0, 0.25, 0.5, 1, 2|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|
|副本数|3|3|3|3|3|3|
|Multi-AZ|不适用|不适用|不适用|不适用|不适用|不适用|
|读取横向扩展|是|是|是|是|是|是|
|随附的备份存储|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|
|||

#### <a name="generation-5-compute-platform"></a>第 5 代计算平台
|性能级别|BC_Gen5_2|BC_Gen5_4|BC_Gen5_8|BC_Gen5_16|BC_Gen5_24|BC_Gen5_32|BC_Gen5_40|BC_Gen5_80|
|:--- | --: |--: |--: |--: |--: |--: |--: |--: |
|硬件代次|5|5|5|5|5|5|5|5|
|vCore 数|2|4|8|16|24|32|40|80|
|内存 (GB)|11|22|44|88|132|176|220|440|
|列存储支持|是|是|是|是|是|是|是|是|
|内存中 OLTP 存储 (GB)|1.571|3.142|6.284|15.768|25.252|37.936|52.22|131.64|
|存储类型|本地 SSD|本地 SSD|本地 SSD|本地 SSD|本地 SSD|本地 SSD|本地 SSD|本地 SSD|
|IO 延迟（近似）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|1-2 毫秒（写入）<br>1-2 毫秒（读取）|
|最大数据大小 (GB)|1024|1024|1024|1024|2048|4096|4096|4096|
|最大日志大小|307|307|307|307|614|1229|1229|1229|
|TempDB 大小 (DB)|64|128|256|384|384|384|384|384|
|目标 IOPS (64 KB)|5000|10000|20000|40000|60000|80000|100000|200000
|最大并发工作线程数（请求数）|210|420|840|1680|2520|3360|5040|8400|
|允许的最大会话数|30000|30000|30000|30000|30000|30000|30000|30000|
|最大池密度|不适用|50|100|100|100|100|100|100|
|最小/最大弹性池点击停止次数|不适用|0, 0.25, 0.5, 1, 2, 4|0, 0.25, 0.5, 1, 2, 4, 8|0, 0.25, 0.5, 1, 2, 4, 8, 16|0, 0.25, 0.5, 1, 2, 4, 8, 16, 24|0, 0.5, 1, 2, 4, 8, 16, 24, 32|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40|0, 0.5, 1, 2, 4, 8, 16, 24, 32, 40, 80|
|副本数|3|3|3|3|3|3|3|3|
|Multi-AZ|不适用|不适用|不适用|不适用|不适用|不适用|不适用|不适用|
|读取横向扩展|是|是|是|是|是|是|是|是|
|随附的备份存储|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|1 倍数据库大小|
|||

如果弹性池的所有 vCore 繁忙，则池中的每个数据库将接收相同数量的计算资源来处理查询。 SQL 数据库服务通过确保相等的计算时间片，在数据库之间提供资源共享的公平性。 弹性池资源共享公平性是在将每个数据库的 vCore 最小值设为非零值时，对另外为每个数据库保证的任意资源量的补充。

### <a name="database-properties-for-pooled-databases"></a>入池数据库的数据库属性

下表介绍了入池数据库的属性。

| 属性 | 说明 |
|:--- |:--- |
| 每个数据库的最大 vCore 数 |根据池中其他数据库的 vCore 使用率，池中任何数据库可以使用的 vCore 的最大数目。 每个数据库的 vCore 上限并不是数据库的资源保障。 此设置是应用于池中所有数据库的全局设置。 将每个数据库的最大 vCore 数设置得足够高，以处理数据库使用高峰情况。 因为池通常会假定数据库存在热使用模式和冷使用模式，在这些模式中并非所有数据库同时处于高峰使用状态，所以预期会存在某种程度的过量使用情况。|
| 每个数据库的最小 vCore 数 |池中任何数据库可以保证的 vCore 最小数目。 此设置是应用于池中所有数据库的全局设置。 每个数据库的最小 vCore 可能设为 0，这也是默认值。 该属性值可以设置为介于 0 和每个数据库的平均 vCore 使用量之间的任意值。 池中数据库数目和每个数据库的 vCore 下限的积不能超过每个池的 vCore 数。|
| 每个数据库的最大存储 |用户为池中的数据库设置的最大数据库大小。 入池数据库共享分配的池存储，因此数据库可以访问的大小限制为剩余的池存储与数据库大小中的较小者。 最大数据库大小是指数据文件的最大大小，不包括日志文件使用的空间。 |
|||
 
## <a name="next-steps"></a>后续步骤

- 有关常见问题的解答，请参阅 [SQL 数据库常见问题解答](sql-database-faq.md)。
- 有关常规 Azure 限制的相关信息，请参阅 [Azure 订阅和服务限制、配额和约束](../azure-subscription-service-limits.md)。
