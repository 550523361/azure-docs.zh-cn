---
title: include 文件
description: include 文件
services: storage
author: roygara
ms.service: storage
ms.topic: include
ms.date: 12/27/2019
ms.author: rogarana
ms.custom: include file
ms.openlocfilehash: 87457bb103f49be4ca3e7bf9f463c5bf63f3a119
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/28/2020
ms.locfileid: "77597763"
---
为了保护 Azure 文件共享中的数据免受数据丢失或损坏的影响，所有 Azure 文件共享在写入每个文件时都会存储多个副本。 根据工作负载的要求，您可以选择额外的冗余度。 Azure 文件当前支持以下数据冗余选项：

- **本地冗余**：本地冗余存储（通常称为 LRS）意味着每个文件在 Azure 存储群集中存储三次。 这样可以防止由于硬件故障（如磁盘驱动器损坏）而丢失数据。
- **区域冗余**：区域冗余存储（通常称为 ZRS）意味着每个文件在三个不同的 Azure 存储群集中存储三次。 三个不同的 Azure 存储群集每个存储文件三次，就像本地冗余存储一样，并且在不同的 Azure*可用性区域*中物理隔离。 可用性区域是 Azure 区域中唯一的物理位置。 每个区域由一个或多个数据中心组成，这些数据中心配置了独立电源、冷却和网络。 在写入所有三个可用性区域中的存储群集之前，不会接受写入存储。 
- **异地冗余**：地理冗余存储（通常称为 GRS）类似于本地冗余存储，因为文件在主区域中的 Azure 存储群集中存储三次。 然后，所有写入都会异步复制到 Microsoft 定义的辅助区域。 异地冗余存储提供 6 个数据副本，分布在两个 Azure 区域之间。 如果发生重大灾难（如由于自然灾害或其他类似事件导致 Azure 区域永久丢失），Microsoft 将执行故障转移，以便辅助数据库实际上成为主发操作，服务所有操作。 由于主区域和辅助区域之间的复制是异步的，因此在发生重大灾难时，尚未复制到辅助区域的数据将丢失。 您还可以执行异地冗余存储帐户的手动故障转移。
- **地理区域冗余**：地理区域冗余存储（通常称为 GZRS）类似于区域冗余存储，因为文件在主区域中的 3 个不同的存储群集中存储了 9 次。 然后，所有写入都会异步复制到 Microsoft 定义的辅助区域。 异地区域冗余存储的故障转移过程与对异地冗余存储的工作方式相同。

标准 Azure 文件共享支持所有四种冗余类型，而高级 Azure 文件共享仅支持本地冗余和区域冗余存储。

通用版本 2 （GPv2） 存储帐户提供了 Azure 文件不支持的另外两个冗余选项：读取可访问的异地冗余存储（通常称为 RA-GRS）和读取可访问的地理区域冗余存储（通常为称为 RA-GZRS。 您可以使用这些选项集在存储帐户中预配 Azure 文件共享，但 Azure 文件不支持从辅助区域读取。 部署到可读的地理或地理区域冗余存储帐户中的 Azure 文件共享将分别计费为异地冗余或地理区域冗余存储。