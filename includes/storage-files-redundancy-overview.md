---
title: include 文件
description: include 文件
services: storage
author: roygara
ms.service: storage
ms.topic: include
ms.date: 12/27/2019
ms.author: rogarana
ms.custom: include file
ms.openlocfilehash: b7c097306ba46d4f0024aecc55994508e2d8a090
ms.sourcegitcommit: 5cace04239f5efef4c1eed78144191a8b7d7fee8
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/08/2020
ms.locfileid: "86156635"
---
为了在 Azure 文件共享中保护数据以防数据丢失或损坏，所有 Azure 文件共享都在写入每个文件时存储了该文件的多个副本。 可以根据工作负载的要求选择额外的冗余度。 Azure 文件存储目前支持以下数据冗余选项：

- **本地冗余**：本地冗余存储（通常称为 LRS）表示每个文件在 Azure 存储群集中存储三次。 这可以防止由于硬件故障（例如磁盘驱动器损坏）而导致数据丢失。
- **区域冗余**：区域冗余存储（通常称为 ZRS）表示每个文件都在三个不同的 Azure 存储群集中存储三次。 就像在本地冗余存储中一样，区域冗余会为你提供每个文件的三个副本，但在不同 Azure*可用性区域*的三个不同存储群集中，这些副本将物理隔离。 可用性区域是 Azure 区域中独特的物理位置。 每个区域由一个或多个数据中心组成，这些数据中心配置了独立电源、冷却和网络。 在将写入存储写入到所有三个可用性区域中的存储群集之前，不会对其进行写入。 
- **异地冗余**：异地冗余存储（通常称为 GRS）与本地冗余存储相同，因为文件在主要区域的 Azure 存储群集内存储三次。 所有写入都将异步复制到 Microsoft 定义的次要区域。 异地冗余存储在两个 Azure 区域之间提供6个数据分布副本。 如果发生重大灾难（如由于自然灾害或其他类似事件而导致 Azure 区域永久性丢失），Microsoft 将执行故障转移，使辅助数据库成为主要副本，为所有操作提供服务。 由于主要区域和次要区域之间的复制是异步的，因此，在发生重大灾难时，尚未复制到次要区域的数据将会丢失。 你还可以执行异地冗余存储帐户的手动故障转移。
- **地理区域冗余**：地域冗余存储（通常称为 GZRS）与区域冗余存储类似，因为文件在主要区域的三个不同存储群集之间存储三次。 所有写入都将异步复制到 Microsoft 定义的次要区域。 区域冗余存储的故障转移过程与针对异地冗余存储的故障转移过程的工作方式相同。

标准 Azure 文件共享支持所有四种冗余类型，而高级 Azure 文件共享仅支持本地冗余存储和区域冗余存储。

常规用途版本 2 (GPv2) 存储帐户提供了两个额外的冗余选项，这些选项在 Azure 文件中不受支持：读取可访问的异地冗余存储（通常称为 "GRS"）和读取可访问的地理区域冗余存储（通常称为 "RA-GZRS"）。 可以在存储帐户中预配这些选项集的 Azure 文件共享，但 Azure 文件不支持从次要区域读取。 部署到可读取访问的地理区域或地理区域冗余存储帐户中的 Azure 文件共享将分别计费为异地冗余或地域冗余存储。