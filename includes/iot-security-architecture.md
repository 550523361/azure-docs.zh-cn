# <a name="internet-of-things-security-architecture"></a>物联网安全体系结构
设计系统时，务必了解对该系统的潜在威胁并相应地，添加适当的防御，如设计和构建系统。 它是从一开始产品设计考虑到了安全性，因为了解如何，攻击者可能能够破坏系统有助于使确保合适的缓解措施到位从头特别重要。 

## <a name="security-starts-with-a-threat-model"></a>安全开头威胁模型
Microsoft 已长时间为其产品中使用的威胁模型，并已完成公司的威胁建模的公开提供的过程。 公司经验表明，建模已超出威胁是最大立即了解意外的好处有关。 例如，它还将创建的打开讨论途径与其他外部开发团队，这可能会导致新的想法和产品中的改进。

威胁建模的目的是了解如何攻击者可能能够破坏系统，然后确保选中相应的缓解措施到位。 设计团队随着系统设计而不是一个系统后，请考虑缓解措施的威胁建模强制被部署。 这一事实至关重要，因为更新到大量的域中的设备的安全防御措施的方式是不可行的而且容易出错，将能保留客户面临风险。

许多开发团队执行极好地捕获系统有益于客户的功能要求。 但是，标识有人可能会误用系统的非典型方法是更具挑战性。 威胁建模可以帮助开发团队了解攻击者可能会执行以及原因。 威胁建模是一个结构化的过程，在系统中，创建有关的安全性的讨论的设计决策，以及更改为进行此过程中，影响安全的设计。 威胁模型时只需文档，本文档还表示一种理想的方式，以确保了解的知识，课程的保留期的连续性，并帮助新载入团队快速。 最后，结果为威胁建模是安全的启用你要考虑，如您希望为你的客户提供哪些安全承诺其他方面。 威胁建模结合这些承诺将通知，并且驱动器物联网 (IoT) 解决方案的测试。

### <a name="when-to-threat-model"></a>何时威胁模型
[威胁建模](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx)提供的最大值，如果它将被合并到设计阶段。 在设计时，必须最大的灵活性，进行更改以消除威胁。 设计使然消除威胁是所需的结果。 它是比添加缓解措施，对它们进行测试并确保它们保持最新，此外，此类消除并非始终可能容易得多。 这种方式会消除威胁，如产品变得更加成熟完善一些，并且反过来最终需要更多的工作和大量更难缺点比在早期建模开发中的威胁。

### <a name="what-to-threat-model"></a>威胁模型的内容
你应线程模型作为一个整体解决方案，并还将重点放在以下几个方面：

* 安全和隐私功能
* 其失败相关的安全功能
* Touch 信任边界的功能 

### <a name="who-threat-models"></a>用户威胁模型
威胁建模是像任何其他过程。  最好将类似的解决方案的任何其他组件的威胁模型文档，并对其进行验证。 许多开发团队执行极好地捕获系统有益于客户的功能要求。 但是，标识有人可能会误用系统的非典型方法是更具挑战性。 威胁建模可以帮助开发团队了解攻击者可能会执行以及原因。

### <a name="how-to-threat-model"></a>如何威胁模型
威胁建模的过程组成四个步骤;步骤如下：

* 应用程序建模
* 枚举的威胁
* 缓解威胁
* 验证缓解措施

#### <a name="the-process-steps"></a>过程步骤
三个规则的经验法则生成威胁模型时，需要注意：

1. 创建外参考体系结构关系图。 
2. 启动广度优先。 大致了解，并作为一个整体之前深层深入, 了解系统。  这有助于确保该你深入介绍中的正确位置。
3. 驱动器的过程中，不要让你的驱动器的过程。 如果你在建模阶段发现问题，并要浏览此，请继续下一步 ！  不认为您需要盲目遵循这些步骤。  

#### <a name="threats"></a>威胁
四个核心元素的威胁模型是：

* 进程 (web 服务，Win32 服务 * 不守护程序，等等。请注意某些复杂的实体 （例如字段网关和传感器） 可以进行抽象，如过程中，当技术向下钻取这些领域内不能。
* 数据存储 （存储数据，例如配置文件或数据库的任何位置）
* 数据流 （其中数据应用程序中的其他元素之间移动）
* 外部实体 （与系统交互的任何内容但不是应用程序的控制之下，示例包括用户程序集和附属源）

体系结构关系图中的所有元素都受到各种威胁;我们将使用 STRIDE 助记键。 读取[威胁建模再次、 STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/)进一步了解有关 STRIDE 元素。

应用程序关系图的不同元素受到 STRIDE 带来的某些隐患：

* 进程受到 STRIDE
* 数据流受到 TID
* 数据存储区受到于 TID，和有时 R，如果数据存储日志文件。
* 外部实体都遵守 SRD

## <a name="security-in-iot"></a>IoT 中的安全性
连接的特殊用途设备具有大量的潜在交互图面区域和交互模式，它们都必须考虑保护数字访问这些设备提供一个框架。 "数字访问"此处所用术语来区分与通过直接设备交互会执行任何操作其中访问安全性提供通过物理访问控制。 例如，置于设备与锁定聊天室盖上。 虽然无法使用软件和硬件拒绝物理访问，可以采取措施以防止从领先的物理访问，系统干扰所致。 

我们浏览交互模式，我们将考察注意在同一个级别的"设备控制"和"设备数据"。 "设备控制"可以归类为提供给设备的任何一方其目标是更改或影响其行为向其状态或其环境的状态的任何信息。 "设备数据"可以归类为设备发出到有关其状态以及其环境的观察到的状态的任何其他方的任何信息。

为了优化最佳安全方案，建议的典型的 IoT 体系结构可划分为多个组件/区域威胁建模的练习的一部分。 这些区域此部分从始至终完全描述，包括：

* 设备，
* 现场网关
* 云网关，并
* 服务。

区域是广泛方式来划分解决方案;每个区域通常有其自己的数据和身份验证和授权要求。 区域还可以用于隔离损坏并限制在更高的信任区域上的低信任区域的影响。

每个区域隔开标记为红色虚线在下图以信任边界。 它表示到另一个来源的数据/信息转换。 在这种转换，数据/信息可能会受到欺骗、 篡改、 否认、 信息泄露、 拒绝服务和特权提升 (STRIDE)。

![IoT 安全区域](media/iot-security-architecture/iot-security-architecture-fig1.png) 

描述在每个边界内的组件也会受到 STRIDE，启用完全 360 威胁建模的解决方案的视图。 以下部分详细说明上的每个组件和特定的安全问题和解决方案，应将放入到位。

后面的部分将讨论标准通常在这些区域中找到的组件。

### <a name="the-device-zone"></a>设备时区
设备环境是周围设备的直接物理空间，其中物理访问和/或"本地网络"是可行的对等数字访问设备。 "本地网络"被假定为独特的不必去了解 – 但可能桥接到 – 公共 Internet，并包括任何近距离无线电技术，它允许对等的设备进行通信的网络。 与其*不*包含这样的本地网络的错觉任何网络虚拟化技术，并且也不包含公共的运算符需要任何两个设备在公共网络空间之间通信，就像输入对等通信关系的网络。

### <a name="the-field-gateway-zone"></a>字段网关区域
现场网关是一个设备/设备或可以充当通信启用程序和，可能的设备控制系统和设备数据处理中心一些通用的服务器计算机软件。 字段网关区域包括字段网关本身和附加到它的所有设备。 顾名思义，字段网关将充当外部专用的数据处理功能、 通常是绑定的位置，然后可能受到物理入侵和在此将具有有限的操作的冗余。 就可以说现场网关通常是一件事情一个可以 touch，同时了解其功能破坏。 

现场网关是不同的单纯流量路由器，因为它已采取积极的管理访问权限和信息流，这意味着它应用寻址实体和网络连接或终端会话。 NAT 设备或防火墙，与此相反，不适合作为字段网关由于它们不是显式的连接或会话终端但而是路由 （或块） 连接或通过它们的会话。 现场网关具有两个不同的图面区域。 一个面向附加到它的设备，表示该区域，内部和另一个面向所有外部当事方，并为该区域的边缘。   

### <a name="the-cloud-gateway-zone"></a>云网关区域
云网关是一个系统，允许跨公用网络空间，通常于基于云的控制和数据分析系统，此类系统的联合身份验证的远程通信 from 和 to 设备或字段从多个不同站点的网关。 在某些情况下，云网关可能立即便于访问到特殊用途设备终端如平板电脑或手机中。 在此处讨论的上下文中，意味着"云"是指未绑定到相同的站点连接的设备或字段网关的专用的数据处理系统。 此外在云区域中，操作的度量值阻止的目标的物理访问，但不一定公开的"公共云"基础结构。  

云网关可能可能映射到要使云网关和所有其连接的设备或字段与任何其他网络通信的网关的网络虚拟化覆盖。 云网关本身是既不设备控制系统，也不处理或存储功能可用于设备数据;这些功能的接口与云网关。 云网关区域包括云网关本身以及所有字段网关和直接或间接与其连接的设备。 该区域的边是所有外部当事方通过进行通信，其中的非重复外围应用。

### <a name="the-services-zone"></a>服务区域
为此上下文作为任何软件组件或与设备以通过字段或云的网关的数据收集和分析，以及用于命令和控件交互的模块定义了"服务"。  服务是的媒介。 它们向网关和其他子系统，其标识下执行操作、 存储和分析数据，自主向设备发出命令基于数据见解或计划信息和公开控制向授权最终用户的功能。

### <a name="information-devices-vs-special-purpose-devices"></a>与特殊用途的设备的信息设备
电脑、 电话和平板电脑是主要交互式信息设备。 大程度地提高电池生存期显式优化手机和平板电脑。 它们最好关闭部分与是用户，而不立即交互时，或不提供播放音乐或到特定位置引导其所有者等服务时。 从系统的角度，这些信息技术设备主要充当朝向人的代理。 它们是"人制动器"建议的操作和"人传感器"收集输入。 

特殊用途设备到数千个内部，组件的复杂工厂生产行的简单温度传感器互不相同。 这些设备得多的范围以目的，并且即使它们提供某些用户界面，它们很大程度上的作用域为与连接或将其集成到现实生活中的资产。 它们测量和报告环境的情况下、 打开阀、 控制 servos、 声音警报、 切换灯，以及执行其他许多任务。 它们可以帮助来完成工作，为其信息设备为太泛型、 过于昂贵，太大或太脆弱。 作为也为其生产和计划的生存期操作可用资金预算，具体用途立即决定其技术设计。 这两个关键因素的组合限制的可用操作的能量消耗、 物理占用内存的情况，因此单击可用存储，计算和安全功能。  

如果一些"访问错误"自动进行的或远程控制的设备，例如，物理缺陷或控制逻辑缺陷到无意识未经授权的入侵和操作。 生产很多可能会销毁、 建筑物可能 looted 或向下刻录和人员可能将伤残人员甚至死气沉沉。 这是损害的，当然，整个不同类比有人支持被盗的信用卡的限制。 使移动，操作的设备，还负责最终将导致所需移动，操作的命令的传感器数据的安全栏必须高于在任何电子商务或银行方案。 

### <a name="device-control-and-device-data-interactions"></a>设备控件和设备数据交互
连接的特殊用途设备具有大量的潜在交互图面区域和交互模式，它们都必须考虑保护数字访问这些设备提供一个框架。 "数字访问"此处所用术语来区分与通过直接设备交互会执行任何操作其中访问安全性提供通过物理访问控制。 例如，置于设备与锁定聊天室盖上。 虽然无法使用软件和硬件拒绝物理访问，可以采取措施以防止从领先的物理访问，系统干扰所致。 

我们浏览交互模式，我们将考察威胁建模时注意在同一个级别的"设备控制"和"设备数据"。 "设备控制"可以归类为提供给设备的任何一方其目标是更改或影响其行为向其状态或其环境的状态的任何信息。 "设备数据"可以归类为设备发出到有关其状态以及其环境的观察到的状态的任何其他方的任何信息。 

## <a name="threat-modeling-the-azure-iot-reference-architecture"></a>威胁建模 Azure IoT 参考体系结构
Microsoft 使用框架来执行威胁建模为 Azure IoT 上面所述。 在以下部分中我们因此使用 Azure IoT 参考体系结构的具体的示例来演示如何考虑威胁建模为 IoT 以及如何解决已识别的威胁。 在本例中我们标识焦点的四个主要的方面：

* 设备和数据源
* 数据传输
* 设备和事件处理和
* 展示

![威胁建模为 Azure IoT](media/iot-security-architecture/iot-security-architecture-fig2.png) 

下图提供 Microsoft 的 IoT 体系结构的简化的视图使用 Microsoft 威胁建模工具使用的数据流关系图模型：

![威胁建模为 Azure IoT 使用 MS 威胁建模工具](media/iot-security-architecture/iot-security-architecture-fig3.png)

请务必请注意体系结构将分开的设备和网关功能。 这允许用户利用更安全的网关设备： 能够与云网关使用安全的协议，这通常需要进行更大的处理开销，本机设备-如调温器-无法提供其自身上通信。 在 Azure 服务区域中，我们假定云网关由 Azure IoT 中心服务。

### <a name="device-and-data-sourcesdata-transport"></a>设备和数据源中的数据传输
本部分介绍上述威胁建模的角度的体系结构，并概述了如何我们将要解决的一些固有的问题。 我们将重点介绍威胁模型的核心元素：

* 进程 （那些在我们的控制和外部项下）
* （也称为数据流） 的通信
* 存储 （也称为数据存储区）

#### <a name="processes"></a>进程
在每个类别中的 Azure IoT 体系结构概述，我们以多种不同的威胁缓解跨中存在数据/信息的不同阶段： 进程、 通信和存储。 下面我们概述了针对"进程"类别，跟概述如何这些无法最好地缓解的最常见事件： 

**欺骗 (S)**： 攻击者可能从一台设备，请在软件或硬件级别，提取加密的密钥材料并随后访问设备的密钥材料与不同的物理或虚拟设备的标识下的系统已从。 良好图是远程控制，可以打开任何电视以及常用顽劣工具。

**拒绝的服务 (D)**： 设备可以呈现不支持的工作或通过干扰射频或剪切线路进行通信。 例如，必须有意不能其断电或网络连接监控摄像头将不在所有报表数据。

**篡改 (T)**： 攻击者可能会部分或完全替换在设备上，运行的软件可能允许被替换的软件，以利用设备的真实身份，如果密钥材料或保存的密钥材料的加密功能已对非法程序可用。 例如，攻击者可能利用提取密钥材料来截获和取消的设备上的通信路径中的数据，并将其替换为使用被盗的密钥材料进行身份验证的错误数据。

**信息泄露 (I)**： 如果设备正在运行操作的软件，此类操作的软件可能会向未经授权方的数据可能泄漏。 例如，攻击者可能利用提取密钥材料将自身插入设备控制器或字段的网关或云网关，以关闭信息抽取之间的通信路径。

**提升的特权 (E)**： 做其他事情，可以强制执行特定的函数的设备。 例如，需要进行编程以打开一半距离阀欺诈一直打开。

| **组件** | **威胁** | **缓解措施** | **风险** | **实现** |
| --- | --- | --- | --- | --- |
| 设备 |S |将标识分配给设备，以及对设备进行身份验证 |将替换一些其他设备的设备的一部分。 我们如何知道我们在与正确的设备？ |对使用传输层安全 (TLS) 或 IPSec 的设备进行身份验证。 在这些设备中不能处理完整非对称加密应支持使用预共享的密钥 (PSK) 基础结构。 利用 Azure AD， [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt) |
| TRID |例如将防伪机制适用于设备中通过使它很难到无法从设备中提取密钥和其他加密材料。 |风险是如果有人就篡改设备 （物理干扰）。 是我们如何确保，该设备未篡改。 |最有效的缓解措施是一个受信任的平台模块 (TPM) 功能，允许将密钥存储在特殊芯片上电路从中键无法读取，但仅用于使用密钥，但永远不会泄露密钥的加密操作。 内存的设备的加密。 设备的密钥管理。 对代码进行签名。 | |
| E |遇到设备的访问的控制。 授权方案。 |如果设备允许为要执行的单个操作根据来自外部源或甚至被破坏的传感器的命令，它将允许这种攻击不否则执行操作可访问。 |具有设备的授权方案 | |
| 现场网关 |S |进行身份验证到云网关 (cert 基于 PSK，声明基于，...) 字段网关 |如果有人可以欺骗现场网关，然后它可以显示本身为任何设备。 |TLS RSA/PSK、 IPSec， [RFC 4279](https://tools.ietf.org/html/rfc4279)。 所有相同常规 – 中的设备的密钥存储和证明问题最佳情况下是使用 TPM。 IPSec 以支持无线传感器网络 (WSN) 的 6LowPAN 扩展。 |
| TRID |保护现场网关进行篡改 (TPM)？ |欺骗欺骗云网关考虑到现场网关与之对话的攻击可能导致信息泄露和数据篡改 |内存加密，TPM 的身份验证。 | |
| E |现场网关的访问控制机制 | | | |

下面是此类别中的威胁的一些示例：

欺骗： 攻击者可能从一台设备，在软件或硬件级别，并随后的访问的设备的密钥材料与不同的物理或虚拟设备的标识下系统已从提取加密密钥材料。

**拒绝服务**： 设备可以呈现不支持的工作或通过干扰射频或剪切线路进行通信。 例如，必须有意不能其断电或网络连接监控摄像头将不在所有报表数据。

**篡改**： 攻击者可能会部分或完全替换在设备上，运行的软件可能允许被替换的软件，以利用设备的真实身份，如果密钥材料或保存的密钥材料的加密功能已对非法程序可用。

**篡改**： 显示空走廊可见频谱图监控摄像头无法旨在此类走廊面部照片。 烟感器或火灾传感器无法报告有人保存在其下的更淡。 在任一情况下，设备可能会从技术上讲完全可信入系统，但它将报告操作的信息。

**篡改**： 攻击者可能利用提取密钥材料来截获和取消的设备上的通信路径中的数据，并将其替换为使用被盗的密钥材料进行身份验证的错误数据。

**篡改**： 攻击者可能会部分或完全替换在设备上，运行的软件可能允许被替换的软件，以利用设备的真实身份，如果密钥材料或保存的密钥材料的加密功能已对非法程序可用。

**信息泄露**： 如果设备正在运行操作的软件，此类操作的软件可能会向未经授权方的数据可能泄漏。

**信息泄露**： 攻击者可能利用提取密钥信息，并将其本身插入到设备的控制器或字段的网关或云网关，以关闭信息抽取之间的通信路径。

**拒绝服务**： 可以关闭该设备，或将其转变为一种模式不可能 （这是有意中许多工业机器） 通信。

**篡改**： 设备可以重新配置，以在状态未知的 （在外部已知的校准参数） 的控制系统中进行操作并因此提供可能被曲解的数据

**特权提升**： 做其他事情，可以强制执行特定的函数的设备。 例如，需要进行编程以打开一半距离阀欺诈一直打开。

**拒绝服务**： 设备可以转换为不可能通信的状态。

**篡改**： 设备可以重新配置，以在状态未知的 （在外部已知的校准参数） 的控制系统中进行操作并因此提供可能被曲解的数据。

**欺骗/篡改/否认**： 如果未保护 （即很少情况下使用者远程控制） 攻击者可以以匿名方式操作的设备的状态。 良好图是远程控制，可以打开任何电视以及常用顽劣工具。

#### <a name="communication"></a>通信
设备、 设备和字段网关和网关设备和云之间的通信路径两边的威胁。 下表各地设备/VPN 上打开的套接字有一些指导：

| **组件** | **威胁** | **缓解措施** | **风险** | **实现** |
| --- | --- | --- | --- | --- |
| 设备 IoT 中心 |TID |(D)TLS (PSK/RSA) 通信进行加密 |窃听或妨碍设备和网关之间的通信 |在协议级别上的安全。 如果使用自定义协议，我们需要了解如何保护它们。 在大多数情况下，通信将从设备到 IoT 中心 （设备启动的连接）。 |
| 设备的设备 |TID |(D)TLS (PSK/RSA) 通信进行加密。 |在设备之间的传输过程中读取数据。 篡改数据。 重载具有新的连接的设备 |安全协议级别 (MQTT/AMQP/HTTP/CoAP。 如果使用自定义协议，我们需要了解如何保护它们。 DoS 威胁的缓解措施是对等通过云或字段的网关设备并将它们仅 act 为向网络客户端。 对等互连可能会导致后具有由网关已代理对等方之间的直接连接 |
| 外部实体设备 |TID |强配对到设备的外部实体 |窃听到设备的连接。 干扰设备的通信 |安全地配对到设备 NFC/蓝牙 LE 的外部实体。 控制设备 （物理） 操作面板 |
| 现场网关云网关 |TID |TLS (PSK/RSA) 通信进行加密。 |窃听或妨碍设备和网关之间的通信 |在协议级别 (MQTT/AMQP/HTTP/CoAP) 上的安全。 如果使用自定义协议，我们需要了解如何保护它们。 |
| 设备云网关 |TID |TLS (PSK/RSA) 通信进行加密。 |窃听或妨碍设备和网关之间的通信 |在协议级别 (MQTT/AMQP/HTTP/CoAP) 上的安全。 如果使用自定义协议，我们需要了解如何保护它们。 |

下面是此类别中的威胁的一些示例：

**拒绝服务**： 受约束的设备通常是处于 DoS 威胁之下时它们主动侦听入站的连接或未经请求的数据报，在网络上，因为攻击者可以打开多个连接并行不服务它们或服务它们非常缓慢，或该设备可以是淹没未经请求的通信。 在这两种情况下，设备可以有效地呈现在网络上无法运行。

**欺骗、 信息泄露**： 受约束的设备和特殊用途的设备通常具有一个为所有安全设施，如密码或 PIN 保护，或它们完全依赖于信任的网络，这意味着它们将在设备位于同一网络中，且该网络通常仅受共享密钥授予访问权限信息。 这意味着，当泄露到设备或网络共享的机密，有可能来控制设备或观察从设备发出的数据。  

**欺骗**： 攻击者可能会截获或部分重写广播和欺骗发起方 （中间人）

**篡改**： 攻击者可能会截获或部分重写广播和发送虚假信息 

**信息泄露：**攻击者可能窃听广播并获取未包含授权信息**拒绝服务：**攻击者可能卡纸广播的信号，并拒绝信息分发

#### <a name="storage"></a>存储
每个设备和字段的网关具有某种形式的存储 （临时队列数据、 操作系统 (OS) 映像存储）。

| **组件** | **威胁** | **缓解措施** | **风险** | **实现** |
| --- | --- | --- | --- | --- |
| 设备存储 |TRID |存储加密，签名日志 |读取从存储 （PII 数据） 的数据与遥测数据篡改。 篡改排入队列，或缓存命令控制数据。 篡改配置或固件更新包时缓存或本地排队的消息可能会导致受到危害的 OS 和/或系统组件 |加密、 消息验证代码 (MAC) 或数字签名。 其中可能的强访问控制通过资源访问控制列表 (Acl) 或权限。 |
| 设备 OS 映像 |TRID | |篡改 OS/替换 OS 组件 |只读 OS 分区签名 OS 映像中，加密 |
| 现场网关存储 （对数据进行排队） |TRID |存储加密，签名日志 |读取篡改遥测数据的存储 （PII 数据） 的数据篡改排入队列或缓存命令控制数据。 篡改 （流向设备或现场网关） 的配置或固件更新包时缓存或本地排队的消息可能会导致受到危害的 OS 和/或系统组件 |BitLocker |
| 字段网关 OS 映像 |TRID | |篡改 OS/替换 OS 组件 |只读 OS 分区签名 OS 映像中，加密 |

### <a name="device-and-event-processingcloud-gateway-zone"></a>设备和事件处理/云网关区域
云网关是允许跨公用网络空间，通常于基于云的控制和数据分析系统，此类系统的联合身份验证的远程通信 from 和 to 设备或字段从多个不同站点的网关的系统。 在某些情况下，云网关可能立即便于访问到特殊用途设备终端如平板电脑或手机中。 此处讨论的上下文，在"云"为了未绑定到相同的站点的连接的设备或字段网关的专用的数据处理系统是指而阻止操作的度量值的其中定位的物理访问，但不是一定是对"公共云"基础结构。  云网关可能可能映射到要使云网关和所有其连接的设备或字段与任何其他网络通信的网关的网络虚拟化覆盖。 云网关本身是既不设备控制系统，也不处理或存储功能可用于设备数据;这些功能的接口与云网关。 云网关区域包括云网关本身以及所有字段网关和直接或间接与其连接的设备。

云网关主要是软件的作为服务运行与现场网关和设备连接的公开终结点的自定义生成的段。 这种情况下它必须设计考虑到了安全性。 请按照[SDL](http://www.microsoft.com/sdl)过程的设计和构建此服务。 

#### <a name="services-zone"></a>服务区域
控制系统 （或控制器） 是设备，或现场网关，或云网关，以便控制一个或多个设备和/或要收集和/或存储和/或分析设备数据的演示文稿或后续的控件目的接口的软件解决方案。 控制系统都可能立即方便地与用户交互本讨论的作用域中的唯一实体。 异常是中间的物理控件图面上的交换机，使用户可以关闭该设备，或更改其他属性，如和其中没有任何功能上等效，可以进行数字访问设备。 

中间的物理控件图面的是那些其中任何一种控制逻辑约束的物理控件面函数，以便可以远程启动一个等效的功能或可以避免与远程输入的输入的冲突 – 此类 intermediated 的控件曲面从概念上讲是附加到一个本地控制系统，利用并行情况下，设备可能连接到的任何其他远程控制系统的相同基础功能。 云计算可以在读取到的最大威胁[云安全联盟 (CSA)](https://cloudsecurityalliance.org/research/top-threats/)页。

## <a name="additional-resources"></a>其他资源
请参阅以下文章以获取其他信息：

* [SDL 威胁建模工具](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
* [Microsoft Azure IoT 参考体系结构](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)

